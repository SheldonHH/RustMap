        -:    0:Source:main.c
        -:    0:Graph:main.gcno
        -:    0:Data:main.gcda
        -:    0:Runs:3
        -:    0:Programs:1
        -:    1:#include <string.h>
        -:    2:#include <stdio.h>
        -:    3: 
       12:    4:int luhn(const char* cc)
        -:    5:{
       12:    6:	const int m[] = {0,2,4,6,8,1,3,5,7,9}; // mapping for rule 3
       12:    7:	int i, odd = 1, sum = 0;
        -:    8: 
      174:    9:	for (i = strlen(cc); i--; odd = !odd) {
      162:   10:		int digit = cc[i] - '0';
      162:   11:		sum += odd ? digit : m[digit];
      162:   12:	}
        -:   13: 
       12:   14:	return sum % 10 == 0;
        -:   15:}
        -:   16: 
        3:   17:int main()
        -:   18:{
        3:   19:	const char* cc[] = {
        -:   20:		"49927398716",
        -:   21:		"49927398717",
        -:   22:		"1234567812345678",
        -:   23:		"1234567812345670",
        -:   24:		0
        -:   25:	};
        -:   26:	int i;
        -:   27: 
       15:   28:	for (i = 0; cc[i]; i++)
       12:   29:		printf("%16s\t%s\n", cc[i], luhn(cc[i]) ? "ok" : "not ok");
        -:   30: 
        3:   31:	return 0;
        -:   32:}
