{"type": "source_file", "children": [{"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 0, "end_byte": 3, "start_point": [0, 0], "end_point": [0, 3], "text": "use"}, {"type": "scoped_use_list", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 4, "end_byte": 9, "start_point": [0, 4], "end_point": [0, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 9, "end_byte": 11, "start_point": [0, 9], "end_point": [0, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 11, "end_byte": 22, "start_point": [0, 11], "end_point": [0, 22], "text": "global_vars"}], "start_byte": 4, "end_byte": 22, "start_point": [0, 4], "end_point": [0, 22], "text": "crate::global_vars"}, {"type": "::", "children": [], "start_byte": 22, "end_byte": 24, "start_point": [0, 22], "end_point": [0, 24], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 24, "end_byte": 32, "start_point": [0, 24], "end_point": [0, 32], "text": "bzip2_c1"}], "start_byte": 4, "end_byte": 32, "start_point": [0, 4], "end_point": [0, 32], "text": "crate::global_vars::bzip2_c1"}, {"type": "::", "children": [], "start_byte": 32, "end_byte": 34, "start_point": [0, 32], "end_point": [0, 34], "text": "::"}, {"type": "use_list", "children": [{"type": "{", "children": [], "start_byte": 34, "end_byte": 35, "start_point": [0, 34], "end_point": [0, 35], "text": "{"}, {"type": "identifier", "children": [], "start_byte": 35, "end_byte": 41, "start_point": [0, 35], "end_point": [0, 41], "text": "BZFILE"}, {"type": ",", "children": [], "start_byte": 41, "end_byte": 42, "start_point": [0, 41], "end_point": [0, 42], "text": ","}, {"type": "identifier", "children": [], "start_byte": 43, "end_byte": 56, "start_point": [0, 43], "end_point": [0, 56], "text": "blockSize100k"}, {"type": ",", "children": [], "start_byte": 56, "end_byte": 57, "start_point": [0, 56], "end_point": [0, 57], "text": ","}, {"type": "identifier", "children": [], "start_byte": 58, "end_byte": 67, "start_point": [0, 58], "end_point": [0, 67], "text": "verbosity"}, {"type": ",", "children": [], "start_byte": 67, "end_byte": 68, "start_point": [0, 67], "end_point": [0, 68], "text": ","}, {"type": "identifier", "children": [], "start_byte": 69, "end_byte": 79, "start_point": [0, 69], "end_point": [0, 79], "text": "workFactor"}, {"type": "}", "children": [], "start_byte": 79, "end_byte": 80, "start_point": [0, 79], "end_point": [0, 80], "text": "}"}], "start_byte": 34, "end_byte": 80, "start_point": [0, 34], "end_point": [0, 80], "text": "{BZFILE, blockSize100k, verbosity, workFactor}"}], "start_byte": 4, "end_byte": 80, "start_point": [0, 4], "end_point": [0, 80], "text": "crate::global_vars::bzip2_c1::{BZFILE, blockSize100k, verbosity, workFactor}"}, {"type": ";", "children": [], "start_byte": 80, "end_byte": 81, "start_point": [0, 80], "end_point": [0, 81], "text": ";"}], "start_byte": 0, "end_byte": 81, "start_point": [0, 0], "end_point": [0, 81], "text": "use crate::global_vars::bzip2_c1::{BZFILE, blockSize100k, verbosity, workFactor};"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 82, "end_byte": 85, "start_point": [1, 0], "end_point": [1, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 86, "end_byte": 91, "start_point": [1, 4], "end_point": [1, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 91, "end_byte": 93, "start_point": [1, 9], "end_point": [1, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 93, "end_byte": 98, "start_point": [1, 11], "end_point": [1, 16], "text": "bzlib"}], "start_byte": 86, "end_byte": 98, "start_point": [1, 4], "end_point": [1, 16], "text": "crate::bzlib"}, {"type": "::", "children": [], "start_byte": 98, "end_byte": 100, "start_point": [1, 16], "end_point": [1, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 100, "end_byte": 118, "start_point": [1, 18], "end_point": [1, 36], "text": "scc_77_BZ2_bzWrite"}], "start_byte": 86, "end_byte": 118, "start_point": [1, 4], "end_point": [1, 36], "text": "crate::bzlib::scc_77_BZ2_bzWrite"}, {"type": "::", "children": [], "start_byte": 118, "end_byte": 120, "start_point": [1, 36], "end_point": [1, 38], "text": "::"}, {"type": "*", "children": [], "start_byte": 120, "end_byte": 121, "start_point": [1, 38], "end_point": [1, 39], "text": "*"}], "start_byte": 86, "end_byte": 121, "start_point": [1, 4], "end_point": [1, 39], "text": "crate::bzlib::scc_77_BZ2_bzWrite::*"}, {"type": ";", "children": [], "start_byte": 121, "end_byte": 122, "start_point": [1, 39], "end_point": [1, 40], "text": ";"}], "start_byte": 82, "end_byte": 122, "start_point": [1, 0], "end_point": [1, 40], "text": "use crate::bzlib::scc_77_BZ2_bzWrite::*;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 123, "end_byte": 126, "start_point": [2, 0], "end_point": [2, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 127, "end_byte": 132, "start_point": [2, 4], "end_point": [2, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 132, "end_byte": 134, "start_point": [2, 9], "end_point": [2, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 134, "end_byte": 139, "start_point": [2, 11], "end_point": [2, 16], "text": "bzlib"}], "start_byte": 127, "end_byte": 139, "start_point": [2, 4], "end_point": [2, 16], "text": "crate::bzlib"}, {"type": "::", "children": [], "start_byte": 139, "end_byte": 141, "start_point": [2, 16], "end_point": [2, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 141, "end_byte": 162, "start_point": [2, 18], "end_point": [2, 39], "text": "scc_53_root_35_myfeof"}], "start_byte": 127, "end_byte": 162, "start_point": [2, 4], "end_point": [2, 39], "text": "crate::bzlib::scc_53_root_35_myfeof"}, {"type": "::", "children": [], "start_byte": 162, "end_byte": 164, "start_point": [2, 39], "end_point": [2, 41], "text": "::"}, {"type": "*", "children": [], "start_byte": 164, "end_byte": 165, "start_point": [2, 41], "end_point": [2, 42], "text": "*"}], "start_byte": 127, "end_byte": 165, "start_point": [2, 4], "end_point": [2, 42], "text": "crate::bzlib::scc_53_root_35_myfeof::*"}, {"type": ";", "children": [], "start_byte": 165, "end_byte": 166, "start_point": [2, 42], "end_point": [2, 43], "text": ";"}], "start_byte": 123, "end_byte": 166, "start_point": [2, 0], "end_point": [2, 43], "text": "use crate::bzlib::scc_53_root_35_myfeof::*;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 167, "end_byte": 170, "start_point": [3, 0], "end_point": [3, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 171, "end_byte": 176, "start_point": [3, 4], "end_point": [3, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 176, "end_byte": 178, "start_point": [3, 9], "end_point": [3, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 178, "end_byte": 183, "start_point": [3, 11], "end_point": [3, 16], "text": "bzip2"}], "start_byte": 171, "end_byte": 183, "start_point": [3, 4], "end_point": [3, 16], "text": "crate::bzip2"}, {"type": "::", "children": [], "start_byte": 183, "end_byte": 185, "start_point": [3, 16], "end_point": [3, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 185, "end_byte": 204, "start_point": [3, 18], "end_point": [3, 37], "text": "scc_107_configError"}], "start_byte": 171, "end_byte": 204, "start_point": [3, 4], "end_point": [3, 37], "text": "crate::bzip2::scc_107_configError"}, {"type": "::", "children": [], "start_byte": 204, "end_byte": 206, "start_point": [3, 37], "end_point": [3, 39], "text": "::"}, {"type": "*", "children": [], "start_byte": 206, "end_byte": 207, "start_point": [3, 39], "end_point": [3, 40], "text": "*"}], "start_byte": 171, "end_byte": 207, "start_point": [3, 4], "end_point": [3, 40], "text": "crate::bzip2::scc_107_configError::*"}, {"type": ";", "children": [], "start_byte": 207, "end_byte": 208, "start_point": [3, 40], "end_point": [3, 41], "text": ";"}], "start_byte": 167, "end_byte": 208, "start_point": [3, 0], "end_point": [3, 41], "text": "use crate::bzip2::scc_107_configError::*;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 209, "end_byte": 212, "start_point": [4, 0], "end_point": [4, 3], "text": "use"}, {"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 213, "end_byte": 218, "start_point": [4, 4], "end_point": [4, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 218, "end_byte": 220, "start_point": [4, 9], "end_point": [4, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 220, "end_byte": 225, "start_point": [4, 11], "end_point": [4, 16], "text": "bzlib"}], "start_byte": 213, "end_byte": 225, "start_point": [4, 4], "end_point": [4, 16], "text": "crate::bzlib"}, {"type": "::", "children": [], "start_byte": 225, "end_byte": 227, "start_point": [4, 16], "end_point": [4, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 227, "end_byte": 271, "start_point": [4, 18], "end_point": [4, 62], "text": "scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen"}], "start_byte": 213, "end_byte": 271, "start_point": [4, 4], "end_point": [4, 62], "text": "crate::bzlib::scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen"}, {"type": "::", "children": [], "start_byte": 271, "end_byte": 273, "start_point": [4, 62], "end_point": [4, 64], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 273, "end_byte": 289, "start_point": [4, 64], "end_point": [4, 80], "text": "bz2_bzwrite_open"}], "start_byte": 213, "end_byte": 289, "start_point": [4, 4], "end_point": [4, 80], "text": "crate::bzlib::scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen::bz2_bzwrite_open"}, {"type": ";", "children": [], "start_byte": 289, "end_byte": 290, "start_point": [4, 80], "end_point": [4, 81], "text": ";"}], "start_byte": 209, "end_byte": 290, "start_point": [4, 0], "end_point": [4, 81], "text": "use crate::bzlib::scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen::bz2_bzwrite_open;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 291, "end_byte": 294, "start_point": [5, 0], "end_point": [5, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 295, "end_byte": 300, "start_point": [5, 4], "end_point": [5, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 300, "end_byte": 302, "start_point": [5, 9], "end_point": [5, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 302, "end_byte": 307, "start_point": [5, 11], "end_point": [5, 16], "text": "bzip2"}], "start_byte": 295, "end_byte": 307, "start_point": [5, 4], "end_point": [5, 16], "text": "crate::bzip2"}, {"type": "::", "children": [], "start_byte": 307, "end_byte": 309, "start_point": [5, 16], "end_point": [5, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 309, "end_byte": 344, "start_point": [5, 18], "end_point": [5, 53], "text": "scc_99_outOfMemory_scc_100_myMalloc"}], "start_byte": 295, "end_byte": 344, "start_point": [5, 4], "end_point": [5, 53], "text": "crate::bzip2::scc_99_outOfMemory_scc_100_myMalloc"}, {"type": "::", "children": [], "start_byte": 344, "end_byte": 346, "start_point": [5, 53], "end_point": [5, 55], "text": "::"}, {"type": "*", "children": [], "start_byte": 346, "end_byte": 347, "start_point": [5, 55], "end_point": [5, 56], "text": "*"}], "start_byte": 295, "end_byte": 347, "start_point": [5, 4], "end_point": [5, 56], "text": "crate::bzip2::scc_99_outOfMemory_scc_100_myMalloc::*"}, {"type": ";", "children": [], "start_byte": 347, "end_byte": 348, "start_point": [5, 56], "end_point": [5, 57], "text": ";"}], "start_byte": 291, "end_byte": 348, "start_point": [5, 0], "end_point": [5, 57], "text": "use crate::bzip2::scc_99_outOfMemory_scc_100_myMalloc::*;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 349, "end_byte": 352, "start_point": [6, 0], "end_point": [6, 3], "text": "use"}, {"type": "scoped_use_list", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 353, "end_byte": 358, "start_point": [6, 4], "end_point": [6, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 358, "end_byte": 360, "start_point": [6, 9], "end_point": [6, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 360, "end_byte": 365, "start_point": [6, 11], "end_point": [6, 16], "text": "bzlib"}], "start_byte": 353, "end_byte": 365, "start_point": [6, 4], "end_point": [6, 16], "text": "crate::bzlib"}, {"type": "::", "children": [], "start_byte": 365, "end_byte": 367, "start_point": [6, 16], "end_point": [6, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 367, "end_byte": 410, "start_point": [6, 18], "end_point": [6, 61], "text": "scc_75_BZ2_bzCompress_76_BZ2_bzWriteClose64"}], "start_byte": 353, "end_byte": 410, "start_point": [6, 4], "end_point": [6, 61], "text": "crate::bzlib::scc_75_BZ2_bzCompress_76_BZ2_bzWriteClose64"}, {"type": "::", "children": [], "start_byte": 410, "end_byte": 412, "start_point": [6, 61], "end_point": [6, 63], "text": "::"}, {"type": "use_list", "children": [{"type": "{", "children": [], "start_byte": 412, "end_byte": 413, "start_point": [6, 63], "end_point": [6, 64], "text": "{"}, {"type": "identifier", "children": [], "start_byte": 413, "end_byte": 433, "start_point": [6, 64], "end_point": [6, 84], "text": "bz2_bz_write_close64"}, {"type": ",", "children": [], "start_byte": 433, "end_byte": 434, "start_point": [6, 84], "end_point": [6, 85], "text": ","}, {"type": "}", "children": [], "start_byte": 434, "end_byte": 435, "start_point": [6, 85], "end_point": [6, 86], "text": "}"}], "start_byte": 412, "end_byte": 435, "start_point": [6, 63], "end_point": [6, 86], "text": "{bz2_bz_write_close64,}"}], "start_byte": 353, "end_byte": 435, "start_point": [6, 4], "end_point": [6, 86], "text": "crate::bzlib::scc_75_BZ2_bzCompress_76_BZ2_bzWriteClose64::{bz2_bz_write_close64,}"}, {"type": ";", "children": [], "start_byte": 435, "end_byte": 436, "start_point": [6, 86], "end_point": [6, 87], "text": ";"}], "start_byte": 349, "end_byte": 436, "start_point": [6, 0], "end_point": [6, 87], "text": "use crate::bzlib::scc_75_BZ2_bzCompress_76_BZ2_bzWriteClose64::{bz2_bz_write_close64,};"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 437, "end_byte": 440, "start_point": [7, 0], "end_point": [7, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 441, "end_byte": 446, "start_point": [7, 4], "end_point": [7, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 446, "end_byte": 448, "start_point": [7, 9], "end_point": [7, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 448, "end_byte": 453, "start_point": [7, 11], "end_point": [7, 16], "text": "bzlib"}], "start_byte": 441, "end_byte": 453, "start_point": [7, 4], "end_point": [7, 16], "text": "crate::bzlib"}, {"type": "::", "children": [], "start_byte": 453, "end_byte": 455, "start_point": [7, 16], "end_point": [7, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 455, "end_byte": 473, "start_point": [7, 18], "end_point": [7, 36], "text": "scc_77_BZ2_bzWrite"}], "start_byte": 441, "end_byte": 473, "start_point": [7, 4], "end_point": [7, 36], "text": "crate::bzlib::scc_77_BZ2_bzWrite"}, {"type": "::", "children": [], "start_byte": 473, "end_byte": 475, "start_point": [7, 36], "end_point": [7, 38], "text": "::"}, {"type": "*", "children": [], "start_byte": 475, "end_byte": 476, "start_point": [7, 38], "end_point": [7, 39], "text": "*"}], "start_byte": 441, "end_byte": 476, "start_point": [7, 4], "end_point": [7, 39], "text": "crate::bzlib::scc_77_BZ2_bzWrite::*"}, {"type": ";", "children": [], "start_byte": 476, "end_byte": 477, "start_point": [7, 39], "end_point": [7, 40], "text": ";"}], "start_byte": 437, "end_byte": 477, "start_point": [7, 0], "end_point": [7, 40], "text": "use crate::bzlib::scc_77_BZ2_bzWrite::*;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 478, "end_byte": 481, "start_point": [8, 0], "end_point": [8, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 482, "end_byte": 487, "start_point": [8, 4], "end_point": [8, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 487, "end_byte": 489, "start_point": [8, 9], "end_point": [8, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 489, "end_byte": 494, "start_point": [8, 11], "end_point": [8, 16], "text": "bzlib"}], "start_byte": 482, "end_byte": 494, "start_point": [8, 4], "end_point": [8, 16], "text": "crate::bzlib"}, {"type": "::", "children": [], "start_byte": 494, "end_byte": 496, "start_point": [8, 16], "end_point": [8, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 496, "end_byte": 540, "start_point": [8, 18], "end_point": [8, 62], "text": "scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen"}], "start_byte": 482, "end_byte": 540, "start_point": [8, 4], "end_point": [8, 62], "text": "crate::bzlib::scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen"}, {"type": "::", "children": [], "start_byte": 540, "end_byte": 542, "start_point": [8, 62], "end_point": [8, 64], "text": "::"}, {"type": "*", "children": [], "start_byte": 542, "end_byte": 543, "start_point": [8, 64], "end_point": [8, 65], "text": "*"}], "start_byte": 482, "end_byte": 543, "start_point": [8, 4], "end_point": [8, 65], "text": "crate::bzlib::scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen::*"}, {"type": ";", "children": [], "start_byte": 543, "end_byte": 544, "start_point": [8, 65], "end_point": [8, 66], "text": ";"}], "start_byte": 478, "end_byte": 544, "start_point": [8, 0], "end_point": [8, 66], "text": "use crate::bzlib::scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen::*;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 545, "end_byte": 548, "start_point": [9, 0], "end_point": [9, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 549, "end_byte": 554, "start_point": [9, 4], "end_point": [9, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 554, "end_byte": 556, "start_point": [9, 9], "end_point": [9, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 556, "end_byte": 561, "start_point": [9, 11], "end_point": [9, 16], "text": "bzip2"}], "start_byte": 549, "end_byte": 561, "start_point": [9, 4], "end_point": [9, 16], "text": "crate::bzip2"}, {"type": "::", "children": [], "start_byte": 561, "end_byte": 563, "start_point": [9, 16], "end_point": [9, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 563, "end_byte": 586, "start_point": [9, 18], "end_point": [9, 41], "text": "scc_93_crcError_ioError"}], "start_byte": 549, "end_byte": 586, "start_point": [9, 4], "end_point": [9, 41], "text": "crate::bzip2::scc_93_crcError_ioError"}, {"type": "::", "children": [], "start_byte": 586, "end_byte": 588, "start_point": [9, 41], "end_point": [9, 43], "text": "::"}, {"type": "*", "children": [], "start_byte": 588, "end_byte": 589, "start_point": [9, 43], "end_point": [9, 44], "text": "*"}], "start_byte": 549, "end_byte": 589, "start_point": [9, 4], "end_point": [9, 44], "text": "crate::bzip2::scc_93_crcError_ioError::*"}, {"type": ";", "children": [], "start_byte": 589, "end_byte": 590, "start_point": [9, 44], "end_point": [9, 45], "text": ";"}], "start_byte": 545, "end_byte": 590, "start_point": [9, 0], "end_point": [9, 45], "text": "use crate::bzip2::scc_93_crcError_ioError::*;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 591, "end_byte": 594, "start_point": [10, 0], "end_point": [10, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 595, "end_byte": 600, "start_point": [10, 4], "end_point": [10, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 600, "end_byte": 602, "start_point": [10, 9], "end_point": [10, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 602, "end_byte": 607, "start_point": [10, 11], "end_point": [10, 16], "text": "bzip2"}], "start_byte": 595, "end_byte": 607, "start_point": [10, 4], "end_point": [10, 16], "text": "crate::bzip2"}, {"type": "::", "children": [], "start_byte": 607, "end_byte": 609, "start_point": [10, 16], "end_point": [10, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 609, "end_byte": 644, "start_point": [10, 18], "end_point": [10, 53], "text": "scc_99_outOfMemory_scc_100_myMalloc"}], "start_byte": 595, "end_byte": 644, "start_point": [10, 4], "end_point": [10, 53], "text": "crate::bzip2::scc_99_outOfMemory_scc_100_myMalloc"}, {"type": "::", "children": [], "start_byte": 644, "end_byte": 646, "start_point": [10, 53], "end_point": [10, 55], "text": "::"}, {"type": "*", "children": [], "start_byte": 646, "end_byte": 647, "start_point": [10, 55], "end_point": [10, 56], "text": "*"}], "start_byte": 595, "end_byte": 647, "start_point": [10, 4], "end_point": [10, 56], "text": "crate::bzip2::scc_99_outOfMemory_scc_100_myMalloc::*"}, {"type": ";", "children": [], "start_byte": 647, "end_byte": 648, "start_point": [10, 56], "end_point": [10, 57], "text": ";"}], "start_byte": 591, "end_byte": 648, "start_point": [10, 0], "end_point": [10, 57], "text": "use crate::bzip2::scc_99_outOfMemory_scc_100_myMalloc::*;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 650, "end_byte": 653, "start_point": [12, 0], "end_point": [12, 3], "text": "use"}, {"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "identifier", "children": [], "start_byte": 654, "end_byte": 657, "start_point": [12, 4], "end_point": [12, 7], "text": "std"}, {"type": "::", "children": [], "start_byte": 657, "end_byte": 659, "start_point": [12, 7], "end_point": [12, 9], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 659, "end_byte": 661, "start_point": [12, 9], "end_point": [12, 11], "text": "fs"}], "start_byte": 654, "end_byte": 661, "start_point": [12, 4], "end_point": [12, 11], "text": "std::fs"}, {"type": "::", "children": [], "start_byte": 661, "end_byte": 663, "start_point": [12, 11], "end_point": [12, 13], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 663, "end_byte": 667, "start_point": [12, 13], "end_point": [12, 17], "text": "File"}], "start_byte": 654, "end_byte": 667, "start_point": [12, 4], "end_point": [12, 17], "text": "std::fs::File"}, {"type": ";", "children": [], "start_byte": 667, "end_byte": 668, "start_point": [12, 17], "end_point": [12, 18], "text": ";"}], "start_byte": 650, "end_byte": 668, "start_point": [12, 0], "end_point": [12, 18], "text": "use std::fs::File;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 669, "end_byte": 672, "start_point": [13, 0], "end_point": [13, 3], "text": "use"}, {"type": "scoped_use_list", "children": [{"type": "scoped_identifier", "children": [{"type": "identifier", "children": [], "start_byte": 673, "end_byte": 676, "start_point": [13, 4], "end_point": [13, 7], "text": "std"}, {"type": "::", "children": [], "start_byte": 676, "end_byte": 678, "start_point": [13, 7], "end_point": [13, 9], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 678, "end_byte": 680, "start_point": [13, 9], "end_point": [13, 11], "text": "io"}], "start_byte": 673, "end_byte": 680, "start_point": [13, 4], "end_point": [13, 11], "text": "std::io"}, {"type": "::", "children": [], "start_byte": 680, "end_byte": 682, "start_point": [13, 11], "end_point": [13, 13], "text": "::"}, {"type": "use_list", "children": [{"type": "{", "children": [], "start_byte": 682, "end_byte": 683, "start_point": [13, 13], "end_point": [13, 14], "text": "{"}, {"type": "self", "children": [], "start_byte": 683, "end_byte": 687, "start_point": [13, 14], "end_point": [13, 18], "text": "self"}, {"type": ",", "children": [], "start_byte": 687, "end_byte": 688, "start_point": [13, 18], "end_point": [13, 19], "text": ","}, {"type": "identifier", "children": [], "start_byte": 689, "end_byte": 693, "start_point": [13, 20], "end_point": [13, 24], "text": "Read"}, {"type": ",", "children": [], "start_byte": 693, "end_byte": 694, "start_point": [13, 24], "end_point": [13, 25], "text": ","}, {"type": "identifier", "children": [], "start_byte": 695, "end_byte": 700, "start_point": [13, 26], "end_point": [13, 31], "text": "Write"}, {"type": "}", "children": [], "start_byte": 700, "end_byte": 701, "start_point": [13, 31], "end_point": [13, 32], "text": "}"}], "start_byte": 682, "end_byte": 701, "start_point": [13, 13], "end_point": [13, 32], "text": "{self, Read, Write}"}], "start_byte": 673, "end_byte": 701, "start_point": [13, 4], "end_point": [13, 32], "text": "std::io::{self, Read, Write}"}, {"type": ";", "children": [], "start_byte": 701, "end_byte": 702, "start_point": [13, 32], "end_point": [13, 33], "text": ";"}], "start_byte": 669, "end_byte": 702, "start_point": [13, 0], "end_point": [13, 33], "text": "use std::io::{self, Read, Write};"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 703, "end_byte": 706, "start_point": [14, 0], "end_point": [14, 3], "text": "use"}, {"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "identifier", "children": [], "start_byte": 707, "end_byte": 710, "start_point": [14, 4], "end_point": [14, 7], "text": "std"}, {"type": "::", "children": [], "start_byte": 710, "end_byte": 712, "start_point": [14, 7], "end_point": [14, 9], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 712, "end_byte": 714, "start_point": [14, 9], "end_point": [14, 11], "text": "os"}], "start_byte": 707, "end_byte": 714, "start_point": [14, 4], "end_point": [14, 11], "text": "std::os"}, {"type": "::", "children": [], "start_byte": 714, "end_byte": 716, "start_point": [14, 11], "end_point": [14, 13], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 716, "end_byte": 720, "start_point": [14, 13], "end_point": [14, 17], "text": "unix"}], "start_byte": 707, "end_byte": 720, "start_point": [14, 4], "end_point": [14, 17], "text": "std::os::unix"}, {"type": "::", "children": [], "start_byte": 720, "end_byte": 722, "start_point": [14, 17], "end_point": [14, 19], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 722, "end_byte": 724, "start_point": [14, 19], "end_point": [14, 21], "text": "io"}], "start_byte": 707, "end_byte": 724, "start_point": [14, 4], "end_point": [14, 21], "text": "std::os::unix::io"}, {"type": "::", "children": [], "start_byte": 724, "end_byte": 726, "start_point": [14, 21], "end_point": [14, 23], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 726, "end_byte": 733, "start_point": [14, 23], "end_point": [14, 30], "text": "AsRawFd"}], "start_byte": 707, "end_byte": 733, "start_point": [14, 4], "end_point": [14, 30], "text": "std::os::unix::io::AsRawFd"}, {"type": ";", "children": [], "start_byte": 733, "end_byte": 734, "start_point": [14, 30], "end_point": [14, 31], "text": ";"}], "start_byte": 703, "end_byte": 734, "start_point": [14, 0], "end_point": [14, 31], "text": "use std::os::unix::io::AsRawFd;"}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 735, "end_byte": 738, "start_point": [15, 0], "end_point": [15, 3], "text": "use"}, {"type": "use_wildcard", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 739, "end_byte": 744, "start_point": [15, 4], "end_point": [15, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 744, "end_byte": 746, "start_point": [15, 9], "end_point": [15, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 746, "end_byte": 751, "start_point": [15, 11], "end_point": [15, 16], "text": "bzlib"}], "start_byte": 739, "end_byte": 751, "start_point": [15, 4], "end_point": [15, 16], "text": "crate::bzlib"}, {"type": "::", "children": [], "start_byte": 751, "end_byte": 753, "start_point": [15, 16], "end_point": [15, 18], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 753, "end_byte": 765, "start_point": [15, 18], "end_point": [15, 30], "text": "bz_constants"}], "start_byte": 739, "end_byte": 765, "start_point": [15, 4], "end_point": [15, 30], "text": "crate::bzlib::bz_constants"}, {"type": "::", "children": [], "start_byte": 765, "end_byte": 767, "start_point": [15, 30], "end_point": [15, 32], "text": "::"}, {"type": "*", "children": [], "start_byte": 767, "end_byte": 768, "start_point": [15, 32], "end_point": [15, 33], "text": "*"}], "start_byte": 739, "end_byte": 768, "start_point": [15, 4], "end_point": [15, 33], "text": "crate::bzlib::bz_constants::*"}, {"type": ";", "children": [], "start_byte": 768, "end_byte": 769, "start_point": [15, 33], "end_point": [15, 34], "text": ";"}], "start_byte": 735, "end_byte": 769, "start_point": [15, 0], "end_point": [15, 34], "text": "use crate::bzlib::bz_constants::*;"}, {"type": "function_item", "children": [{"type": "visibility_modifier", "children": [{"type": "pub", "children": [], "start_byte": 771, "end_byte": 774, "start_point": [17, 0], "end_point": [17, 3], "text": "pub"}], "start_byte": 771, "end_byte": 774, "start_point": [17, 0], "end_point": [17, 3], "text": "pub"}, {"type": "fn", "children": [], "start_byte": 775, "end_byte": 777, "start_point": [17, 4], "end_point": [17, 6], "text": "fn"}, {"type": "identifier", "children": [], "start_byte": 778, "end_byte": 793, "start_point": [17, 7], "end_point": [17, 22], "text": "compress_stream"}, {"type": "parameters", "children": [{"type": "(", "children": [], "start_byte": 793, "end_byte": 794, "start_point": [17, 22], "end_point": [17, 23], "text": "("}, {"type": "parameter", "children": [{"type": "identifier", "children": [], "start_byte": 794, "end_byte": 800, "start_point": [17, 23], "end_point": [17, 29], "text": "stream"}, {"type": ":", "children": [], "start_byte": 800, "end_byte": 801, "start_point": [17, 29], "end_point": [17, 30], "text": ":"}, {"type": "reference_type", "children": [{"type": "&", "children": [], "start_byte": 802, "end_byte": 803, "start_point": [17, 31], "end_point": [17, 32], "text": "&"}, {"type": "mutable_specifier", "children": [], "start_byte": 803, "end_byte": 806, "start_point": [17, 32], "end_point": [17, 35], "text": "mut"}, {"type": "type_identifier", "children": [], "start_byte": 807, "end_byte": 811, "start_point": [17, 36], "end_point": [17, 40], "text": "File"}], "start_byte": 802, "end_byte": 811, "start_point": [17, 31], "end_point": [17, 40], "text": "&mut File"}], "start_byte": 794, "end_byte": 811, "start_point": [17, 23], "end_point": [17, 40], "text": "stream: &mut File"}, {"type": ",", "children": [], "start_byte": 811, "end_byte": 812, "start_point": [17, 40], "end_point": [17, 41], "text": ","}, {"type": "parameter", "children": [{"type": "identifier", "children": [], "start_byte": 813, "end_byte": 821, "start_point": [17, 42], "end_point": [17, 50], "text": "z_stream"}, {"type": ":", "children": [], "start_byte": 821, "end_byte": 822, "start_point": [17, 50], "end_point": [17, 51], "text": ":"}, {"type": "reference_type", "children": [{"type": "&", "children": [], "start_byte": 823, "end_byte": 824, "start_point": [17, 52], "end_point": [17, 53], "text": "&"}, {"type": "mutable_specifier", "children": [], "start_byte": 824, "end_byte": 827, "start_point": [17, 53], "end_point": [17, 56], "text": "mut"}, {"type": "type_identifier", "children": [], "start_byte": 828, "end_byte": 832, "start_point": [17, 57], "end_point": [17, 61], "text": "File"}], "start_byte": 823, "end_byte": 832, "start_point": [17, 52], "end_point": [17, 61], "text": "&mut File"}], "start_byte": 813, "end_byte": 832, "start_point": [17, 42], "end_point": [17, 61], "text": "z_stream: &mut File"}, {"type": ")", "children": [], "start_byte": 832, "end_byte": 833, "start_point": [17, 61], "end_point": [17, 62], "text": ")"}], "start_byte": 793, "end_byte": 833, "start_point": [17, 22], "end_point": [17, 62], "text": "(stream: &mut File, z_stream: &mut File)"}, {"type": "->", "children": [], "start_byte": 834, "end_byte": 836, "start_point": [17, 63], "end_point": [17, 65], "text": "->"}, {"type": "generic_type", "children": [{"type": "type_identifier", "children": [], "start_byte": 837, "end_byte": 843, "start_point": [17, 66], "end_point": [17, 72], "text": "Result"}, {"type": "type_arguments", "children": [{"type": "<", "children": [], "start_byte": 843, "end_byte": 844, "start_point": [17, 72], "end_point": [17, 73], "text": "<"}, {"type": "unit_type", "children": [{"type": "(", "children": [], "start_byte": 844, "end_byte": 845, "start_point": [17, 73], "end_point": [17, 74], "text": "("}, {"type": ")", "children": [], "start_byte": 845, "end_byte": 846, "start_point": [17, 74], "end_point": [17, 75], "text": ")"}], "start_byte": 844, "end_byte": 846, "start_point": [17, 73], "end_point": [17, 75], "text": "()"}, {"type": ",", "children": [], "start_byte": 846, "end_byte": 847, "start_point": [17, 75], "end_point": [17, 76], "text": ","}, {"type": "type_identifier", "children": [], "start_byte": 848, "end_byte": 854, "start_point": [17, 77], "end_point": [17, 83], "text": "String"}, {"type": ">", "children": [], "start_byte": 854, "end_byte": 855, "start_point": [17, 83], "end_point": [17, 84], "text": ">"}], "start_byte": 843, "end_byte": 855, "start_point": [17, 72], "end_point": [17, 84], "text": "<(), String>"}], "start_byte": 837, "end_byte": 855, "start_point": [17, 66], "end_point": [17, 84], "text": "Result<(), String>"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 856, "end_byte": 857, "start_point": [17, 85], "end_point": [17, 86], "text": "{"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 862, "end_byte": 865, "start_point": [18, 4], "end_point": [18, 7], "text": "let"}, {"type": "mutable_specifier", "children": [], "start_byte": 866, "end_byte": 869, "start_point": [18, 8], "end_point": [18, 11], "text": "mut"}, {"type": "identifier", "children": [], "start_byte": 870, "end_byte": 873, "start_point": [18, 12], "end_point": [18, 15], "text": "bzf"}, {"type": ":", "children": [], "start_byte": 873, "end_byte": 874, "start_point": [18, 15], "end_point": [18, 16], "text": ":"}, {"type": "generic_type", "children": [{"type": "type_identifier", "children": [], "start_byte": 875, "end_byte": 881, "start_point": [18, 17], "end_point": [18, 23], "text": "Option"}, {"type": "type_arguments", "children": [{"type": "<", "children": [], "start_byte": 881, "end_byte": 882, "start_point": [18, 23], "end_point": [18, 24], "text": "<"}, {"type": "type_identifier", "children": [], "start_byte": 882, "end_byte": 888, "start_point": [18, 24], "end_point": [18, 30], "text": "BZFILE"}, {"type": ">", "children": [], "start_byte": 888, "end_byte": 889, "start_point": [18, 30], "end_point": [18, 31], "text": ">"}], "start_byte": 881, "end_byte": 889, "start_point": [18, 23], "end_point": [18, 31], "text": "<BZFILE>"}], "start_byte": 875, "end_byte": 889, "start_point": [18, 17], "end_point": [18, 31], "text": "Option<BZFILE>"}, {"type": "=", "children": [], "start_byte": 890, "end_byte": 891, "start_point": [18, 32], "end_point": [18, 33], "text": "="}, {"type": "identifier", "children": [], "start_byte": 892, "end_byte": 896, "start_point": [18, 34], "end_point": [18, 38], "text": "None"}, {"type": ";", "children": [], "start_byte": 896, "end_byte": 897, "start_point": [18, 38], "end_point": [18, 39], "text": ";"}], "start_byte": 862, "end_byte": 897, "start_point": [18, 4], "end_point": [18, 39], "text": "let mut bzf: Option<BZFILE> = None;"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 902, "end_byte": 905, "start_point": [19, 4], "end_point": [19, 7], "text": "let"}, {"type": "mutable_specifier", "children": [], "start_byte": 906, "end_byte": 909, "start_point": [19, 8], "end_point": [19, 11], "text": "mut"}, {"type": "identifier", "children": [], "start_byte": 910, "end_byte": 914, "start_point": [19, 12], "end_point": [19, 16], "text": "ibuf"}, {"type": "=", "children": [], "start_byte": 915, "end_byte": 916, "start_point": [19, 17], "end_point": [19, 18], "text": "="}, {"type": "array_expression", "children": [{"type": "[", "children": [], "start_byte": 917, "end_byte": 918, "start_point": [19, 19], "end_point": [19, 20], "text": "["}, {"type": "integer_literal", "children": [], "start_byte": 918, "end_byte": 921, "start_point": [19, 20], "end_point": [19, 23], "text": "0u8"}, {"type": ";", "children": [], "start_byte": 921, "end_byte": 922, "start_point": [19, 23], "end_point": [19, 24], "text": ";"}, {"type": "integer_literal", "children": [], "start_byte": 923, "end_byte": 927, "start_point": [19, 25], "end_point": [19, 29], "text": "5000"}, {"type": "]", "children": [], "start_byte": 927, "end_byte": 928, "start_point": [19, 29], "end_point": [19, 30], "text": "]"}], "start_byte": 917, "end_byte": 928, "start_point": [19, 19], "end_point": [19, 30], "text": "[0u8; 5000]"}, {"type": ";", "children": [], "start_byte": 928, "end_byte": 929, "start_point": [19, 30], "end_point": [19, 31], "text": ";"}], "start_byte": 902, "end_byte": 929, "start_point": [19, 4], "end_point": [19, 31], "text": "let mut ibuf = [0u8; 5000];"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 934, "end_byte": 937, "start_point": [20, 4], "end_point": [20, 7], "text": "let"}, {"type": "mutable_specifier", "children": [], "start_byte": 938, "end_byte": 941, "start_point": [20, 8], "end_point": [20, 11], "text": "mut"}, {"type": "identifier", "children": [], "start_byte": 942, "end_byte": 956, "start_point": [20, 12], "end_point": [20, 26], "text": "nbytes_in_lo32"}, {"type": "=", "children": [], "start_byte": 957, "end_byte": 958, "start_point": [20, 27], "end_point": [20, 28], "text": "="}, {"type": "integer_literal", "children": [], "start_byte": 959, "end_byte": 963, "start_point": [20, 29], "end_point": [20, 33], "text": "0u32"}, {"type": ";", "children": [], "start_byte": 963, "end_byte": 964, "start_point": [20, 33], "end_point": [20, 34], "text": ";"}], "start_byte": 934, "end_byte": 964, "start_point": [20, 4], "end_point": [20, 34], "text": "let mut nbytes_in_lo32 = 0u32;"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 969, "end_byte": 972, "start_point": [21, 4], "end_point": [21, 7], "text": "let"}, {"type": "mutable_specifier", "children": [], "start_byte": 973, "end_byte": 976, "start_point": [21, 8], "end_point": [21, 11], "text": "mut"}, {"type": "identifier", "children": [], "start_byte": 977, "end_byte": 991, "start_point": [21, 12], "end_point": [21, 26], "text": "nbytes_in_hi32"}, {"type": "=", "children": [], "start_byte": 992, "end_byte": 993, "start_point": [21, 27], "end_point": [21, 28], "text": "="}, {"type": "integer_literal", "children": [], "start_byte": 994, "end_byte": 998, "start_point": [21, 29], "end_point": [21, 33], "text": "0u32"}, {"type": ";", "children": [], "start_byte": 998, "end_byte": 999, "start_point": [21, 33], "end_point": [21, 34], "text": ";"}], "start_byte": 969, "end_byte": 999, "start_point": [21, 4], "end_point": [21, 34], "text": "let mut nbytes_in_hi32 = 0u32;"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 1004, "end_byte": 1007, "start_point": [22, 4], "end_point": [22, 7], "text": "let"}, {"type": "mutable_specifier", "children": [], "start_byte": 1008, "end_byte": 1011, "start_point": [22, 8], "end_point": [22, 11], "text": "mut"}, {"type": "identifier", "children": [], "start_byte": 1012, "end_byte": 1027, "start_point": [22, 12], "end_point": [22, 27], "text": "nbytes_out_lo32"}, {"type": "=", "children": [], "start_byte": 1028, "end_byte": 1029, "start_point": [22, 28], "end_point": [22, 29], "text": "="}, {"type": "integer_literal", "children": [], "start_byte": 1030, "end_byte": 1034, "start_point": [22, 30], "end_point": [22, 34], "text": "0u32"}, {"type": ";", "children": [], "start_byte": 1034, "end_byte": 1035, "start_point": [22, 34], "end_point": [22, 35], "text": ";"}], "start_byte": 1004, "end_byte": 1035, "start_point": [22, 4], "end_point": [22, 35], "text": "let mut nbytes_out_lo32 = 0u32;"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 1040, "end_byte": 1043, "start_point": [23, 4], "end_point": [23, 7], "text": "let"}, {"type": "mutable_specifier", "children": [], "start_byte": 1044, "end_byte": 1047, "start_point": [23, 8], "end_point": [23, 11], "text": "mut"}, {"type": "identifier", "children": [], "start_byte": 1048, "end_byte": 1063, "start_point": [23, 12], "end_point": [23, 27], "text": "nbytes_out_hi32"}, {"type": "=", "children": [], "start_byte": 1064, "end_byte": 1065, "start_point": [23, 28], "end_point": [23, 29], "text": "="}, {"type": "integer_literal", "children": [], "start_byte": 1066, "end_byte": 1070, "start_point": [23, 30], "end_point": [23, 34], "text": "0u32"}, {"type": ";", "children": [], "start_byte": 1070, "end_byte": 1071, "start_point": [23, 34], "end_point": [23, 35], "text": ";"}], "start_byte": 1040, "end_byte": 1071, "start_point": [23, 4], "end_point": [23, 35], "text": "let mut nbytes_out_hi32 = 0u32;"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 1076, "end_byte": 1079, "start_point": [24, 4], "end_point": [24, 7], "text": "let"}, {"type": "mutable_specifier", "children": [], "start_byte": 1080, "end_byte": 1083, "start_point": [24, 8], "end_point": [24, 11], "text": "mut"}, {"type": "identifier", "children": [], "start_byte": 1084, "end_byte": 1089, "start_point": [24, 12], "end_point": [24, 17], "text": "bzerr"}, {"type": "=", "children": [], "start_byte": 1090, "end_byte": 1091, "start_point": [24, 18], "end_point": [24, 19], "text": "="}, {"type": "integer_literal", "children": [], "start_byte": 1092, "end_byte": 1096, "start_point": [24, 20], "end_point": [24, 24], "text": "0i32"}, {"type": ";", "children": [], "start_byte": 1096, "end_byte": 1097, "start_point": [24, 24], "end_point": [24, 25], "text": ";"}], "start_byte": 1076, "end_byte": 1097, "start_point": [24, 4], "end_point": [24, 25], "text": "let mut bzerr = 0i32;"}, {"type": "line_comment", "children": [], "start_byte": 1102, "end_byte": 1136, "start_point": [25, 4], "end_point": [25, 38], "text": "// println!(\"110_compressStream\");"}, {"type": "expression_statement", "children": [{"type": "if_expression", "children": [{"type": "if", "children": [], "start_byte": 1141, "end_byte": 1143, "start_point": [26, 4], "end_point": [26, 6], "text": "if"}, {"type": "binary_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1144, "end_byte": 1150, "start_point": [26, 7], "end_point": [26, 13], "text": "stream"}, {"type": ".", "children": [], "start_byte": 1150, "end_byte": 1151, "start_point": [26, 13], "end_point": [26, 14], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1151, "end_byte": 1159, "start_point": [26, 14], "end_point": [26, 22], "text": "metadata"}], "start_byte": 1144, "end_byte": 1159, "start_point": [26, 7], "end_point": [26, 22], "text": "stream.metadata"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1159, "end_byte": 1160, "start_point": [26, 22], "end_point": [26, 23], "text": "("}, {"type": ")", "children": [], "start_byte": 1160, "end_byte": 1161, "start_point": [26, 23], "end_point": [26, 24], "text": ")"}], "start_byte": 1159, "end_byte": 1161, "start_point": [26, 22], "end_point": [26, 24], "text": "()"}], "start_byte": 1144, "end_byte": 1161, "start_point": [26, 7], "end_point": [26, 24], "text": "stream.metadata()"}, {"type": ".", "children": [], "start_byte": 1161, "end_byte": 1162, "start_point": [26, 24], "end_point": [26, 25], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1162, "end_byte": 1168, "start_point": [26, 25], "end_point": [26, 31], "text": "is_err"}], "start_byte": 1144, "end_byte": 1168, "start_point": [26, 7], "end_point": [26, 31], "text": "stream.metadata().is_err"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1168, "end_byte": 1169, "start_point": [26, 31], "end_point": [26, 32], "text": "("}, {"type": ")", "children": [], "start_byte": 1169, "end_byte": 1170, "start_point": [26, 32], "end_point": [26, 33], "text": ")"}], "start_byte": 1168, "end_byte": 1170, "start_point": [26, 31], "end_point": [26, 33], "text": "()"}], "start_byte": 1144, "end_byte": 1170, "start_point": [26, 7], "end_point": [26, 33], "text": "stream.metadata().is_err()"}, {"type": "||", "children": [], "start_byte": 1171, "end_byte": 1173, "start_point": [26, 34], "end_point": [26, 36], "text": "||"}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1174, "end_byte": 1182, "start_point": [26, 37], "end_point": [26, 45], "text": "z_stream"}, {"type": ".", "children": [], "start_byte": 1182, "end_byte": 1183, "start_point": [26, 45], "end_point": [26, 46], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1183, "end_byte": 1191, "start_point": [26, 46], "end_point": [26, 54], "text": "metadata"}], "start_byte": 1174, "end_byte": 1191, "start_point": [26, 37], "end_point": [26, 54], "text": "z_stream.metadata"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1191, "end_byte": 1192, "start_point": [26, 54], "end_point": [26, 55], "text": "("}, {"type": ")", "children": [], "start_byte": 1192, "end_byte": 1193, "start_point": [26, 55], "end_point": [26, 56], "text": ")"}], "start_byte": 1191, "end_byte": 1193, "start_point": [26, 54], "end_point": [26, 56], "text": "()"}], "start_byte": 1174, "end_byte": 1193, "start_point": [26, 37], "end_point": [26, 56], "text": "z_stream.metadata()"}, {"type": ".", "children": [], "start_byte": 1193, "end_byte": 1194, "start_point": [26, 56], "end_point": [26, 57], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1194, "end_byte": 1200, "start_point": [26, 57], "end_point": [26, 63], "text": "is_err"}], "start_byte": 1174, "end_byte": 1200, "start_point": [26, 37], "end_point": [26, 63], "text": "z_stream.metadata().is_err"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1200, "end_byte": 1201, "start_point": [26, 63], "end_point": [26, 64], "text": "("}, {"type": ")", "children": [], "start_byte": 1201, "end_byte": 1202, "start_point": [26, 64], "end_point": [26, 65], "text": ")"}], "start_byte": 1200, "end_byte": 1202, "start_point": [26, 63], "end_point": [26, 65], "text": "()"}], "start_byte": 1174, "end_byte": 1202, "start_point": [26, 37], "end_point": [26, 65], "text": "z_stream.metadata().is_err()"}], "start_byte": 1144, "end_byte": 1202, "start_point": [26, 7], "end_point": [26, 65], "text": "stream.metadata().is_err() || z_stream.metadata().is_err()"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 1203, "end_byte": 1204, "start_point": [26, 66], "end_point": [26, 67], "text": "{"}, {"type": "expression_statement", "children": [{"type": "return_expression", "children": [{"type": "return", "children": [], "start_byte": 1213, "end_byte": 1219, "start_point": [27, 8], "end_point": [27, 14], "text": "return"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1220, "end_byte": 1223, "start_point": [27, 15], "end_point": [27, 18], "text": "Err"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1223, "end_byte": 1224, "start_point": [27, 18], "end_point": [27, 19], "text": "("}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 1224, "end_byte": 1225, "start_point": [27, 19], "end_point": [27, 20], "text": "\""}, {"type": "\"", "children": [], "start_byte": 1233, "end_byte": 1234, "start_point": [27, 28], "end_point": [27, 29], "text": "\""}], "start_byte": 1224, "end_byte": 1234, "start_point": [27, 19], "end_point": [27, 29], "text": "\"IO error\""}, {"type": ".", "children": [], "start_byte": 1234, "end_byte": 1235, "start_point": [27, 29], "end_point": [27, 30], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1235, "end_byte": 1244, "start_point": [27, 30], "end_point": [27, 39], "text": "to_string"}], "start_byte": 1224, "end_byte": 1244, "start_point": [27, 19], "end_point": [27, 39], "text": "\"IO error\".to_string"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1244, "end_byte": 1245, "start_point": [27, 39], "end_point": [27, 40], "text": "("}, {"type": ")", "children": [], "start_byte": 1245, "end_byte": 1246, "start_point": [27, 40], "end_point": [27, 41], "text": ")"}], "start_byte": 1244, "end_byte": 1246, "start_point": [27, 39], "end_point": [27, 41], "text": "()"}], "start_byte": 1224, "end_byte": 1246, "start_point": [27, 19], "end_point": [27, 41], "text": "\"IO error\".to_string()"}, {"type": ")", "children": [], "start_byte": 1246, "end_byte": 1247, "start_point": [27, 41], "end_point": [27, 42], "text": ")"}], "start_byte": 1223, "end_byte": 1247, "start_point": [27, 18], "end_point": [27, 42], "text": "(\"IO error\".to_string())"}], "start_byte": 1220, "end_byte": 1247, "start_point": [27, 15], "end_point": [27, 42], "text": "Err(\"IO error\".to_string())"}], "start_byte": 1213, "end_byte": 1247, "start_point": [27, 8], "end_point": [27, 42], "text": "return Err(\"IO error\".to_string())"}, {"type": ";", "children": [], "start_byte": 1247, "end_byte": 1248, "start_point": [27, 42], "end_point": [27, 43], "text": ";"}], "start_byte": 1213, "end_byte": 1248, "start_point": [27, 8], "end_point": [27, 43], "text": "return Err(\"IO error\".to_string());"}, {"type": "}", "children": [], "start_byte": 1253, "end_byte": 1254, "start_point": [28, 4], "end_point": [28, 5], "text": "}"}], "start_byte": 1203, "end_byte": 1254, "start_point": [26, 66], "end_point": [28, 5], "text": "{\n        return Err(\"IO error\".to_string());\n    }"}], "start_byte": 1141, "end_byte": 1254, "start_point": [26, 4], "end_point": [28, 5], "text": "if stream.metadata().is_err() || z_stream.metadata().is_err() {\n        return Err(\"IO error\".to_string());\n    }"}], "start_byte": 1141, "end_byte": 1254, "start_point": [26, 4], "end_point": [28, 5], "text": "if stream.metadata().is_err() || z_stream.metadata().is_err() {\n        return Err(\"IO error\".to_string());\n    }"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 1260, "end_byte": 1263, "start_point": [30, 4], "end_point": [30, 7], "text": "let"}, {"type": "identifier", "children": [], "start_byte": 1264, "end_byte": 1279, "start_point": [30, 8], "end_point": [30, 23], "text": "cloned_z_stream"}, {"type": "=", "children": [], "start_byte": 1280, "end_byte": 1281, "start_point": [30, 24], "end_point": [30, 25], "text": "="}, {"type": "try_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1282, "end_byte": 1290, "start_point": [30, 26], "end_point": [30, 34], "text": "z_stream"}, {"type": ".", "children": [], "start_byte": 1290, "end_byte": 1291, "start_point": [30, 34], "end_point": [30, 35], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1291, "end_byte": 1300, "start_point": [30, 35], "end_point": [30, 44], "text": "try_clone"}], "start_byte": 1282, "end_byte": 1300, "start_point": [30, 26], "end_point": [30, 44], "text": "z_stream.try_clone"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1300, "end_byte": 1301, "start_point": [30, 44], "end_point": [30, 45], "text": "("}, {"type": ")", "children": [], "start_byte": 1301, "end_byte": 1302, "start_point": [30, 45], "end_point": [30, 46], "text": ")"}], "start_byte": 1300, "end_byte": 1302, "start_point": [30, 44], "end_point": [30, 46], "text": "()"}], "start_byte": 1282, "end_byte": 1302, "start_point": [30, 26], "end_point": [30, 46], "text": "z_stream.try_clone()"}, {"type": ".", "children": [], "start_byte": 1302, "end_byte": 1303, "start_point": [30, 46], "end_point": [30, 47], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1303, "end_byte": 1310, "start_point": [30, 47], "end_point": [30, 54], "text": "map_err"}], "start_byte": 1282, "end_byte": 1310, "start_point": [30, 26], "end_point": [30, 54], "text": "z_stream.try_clone().map_err"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1310, "end_byte": 1311, "start_point": [30, 54], "end_point": [30, 55], "text": "("}, {"type": "closure_expression", "children": [{"type": "closure_parameters", "children": [{"type": "|", "children": [], "start_byte": 1311, "end_byte": 1312, "start_point": [30, 55], "end_point": [30, 56], "text": "|"}, {"type": "identifier", "children": [], "start_byte": 1312, "end_byte": 1313, "start_point": [30, 56], "end_point": [30, 57], "text": "e"}, {"type": "|", "children": [], "start_byte": 1313, "end_byte": 1314, "start_point": [30, 57], "end_point": [30, 58], "text": "|"}], "start_byte": 1311, "end_byte": 1314, "start_point": [30, 55], "end_point": [30, 58], "text": "|e|"}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1315, "end_byte": 1316, "start_point": [30, 59], "end_point": [30, 60], "text": "e"}, {"type": ".", "children": [], "start_byte": 1316, "end_byte": 1317, "start_point": [30, 60], "end_point": [30, 61], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1317, "end_byte": 1326, "start_point": [30, 61], "end_point": [30, 70], "text": "to_string"}], "start_byte": 1315, "end_byte": 1326, "start_point": [30, 59], "end_point": [30, 70], "text": "e.to_string"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1326, "end_byte": 1327, "start_point": [30, 70], "end_point": [30, 71], "text": "("}, {"type": ")", "children": [], "start_byte": 1327, "end_byte": 1328, "start_point": [30, 71], "end_point": [30, 72], "text": ")"}], "start_byte": 1326, "end_byte": 1328, "start_point": [30, 70], "end_point": [30, 72], "text": "()"}], "start_byte": 1315, "end_byte": 1328, "start_point": [30, 59], "end_point": [30, 72], "text": "e.to_string()"}], "start_byte": 1311, "end_byte": 1328, "start_point": [30, 55], "end_point": [30, 72], "text": "|e| e.to_string()"}, {"type": ")", "children": [], "start_byte": 1328, "end_byte": 1329, "start_point": [30, 72], "end_point": [30, 73], "text": ")"}], "start_byte": 1310, "end_byte": 1329, "start_point": [30, 54], "end_point": [30, 73], "text": "(|e| e.to_string())"}], "start_byte": 1282, "end_byte": 1329, "start_point": [30, 26], "end_point": [30, 73], "text": "z_stream.try_clone().map_err(|e| e.to_string())"}, {"type": "?", "children": [], "start_byte": 1329, "end_byte": 1330, "start_point": [30, 73], "end_point": [30, 74], "text": "?"}], "start_byte": 1282, "end_byte": 1330, "start_point": [30, 26], "end_point": [30, 74], "text": "z_stream.try_clone().map_err(|e| e.to_string())?"}, {"type": ";", "children": [], "start_byte": 1330, "end_byte": 1331, "start_point": [30, 74], "end_point": [30, 75], "text": ";"}], "start_byte": 1260, "end_byte": 1331, "start_point": [30, 4], "end_point": [30, 75], "text": "let cloned_z_stream = z_stream.try_clone().map_err(|e| e.to_string())?;"}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 1336, "end_byte": 1339, "start_point": [31, 4], "end_point": [31, 7], "text": "let"}, {"type": "identifier", "children": [], "start_byte": 1340, "end_byte": 1349, "start_point": [31, 8], "end_point": [31, 17], "text": "bzf_boxed"}, {"type": "=", "children": [], "start_byte": 1350, "end_byte": 1351, "start_point": [31, 18], "end_point": [31, 19], "text": "="}, {"type": "try_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "unsafe_block", "children": [{"type": "unsafe", "children": [], "start_byte": 1352, "end_byte": 1358, "start_point": [31, 20], "end_point": [31, 26], "text": "unsafe"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 1359, "end_byte": 1360, "start_point": [31, 27], "end_point": [31, 28], "text": "{"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1369, "end_byte": 1385, "start_point": [32, 8], "end_point": [32, 24], "text": "bz2_bzwrite_open"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1385, "end_byte": 1386, "start_point": [32, 24], "end_point": [32, 25], "text": "("}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 1399, "end_byte": 1400, "start_point": [33, 12], "end_point": [33, 13], "text": "&"}, {"type": "mutable_specifier", "children": [], "start_byte": 1400, "end_byte": 1403, "start_point": [33, 13], "end_point": [33, 16], "text": "mut"}, {"type": "identifier", "children": [], "start_byte": 1404, "end_byte": 1409, "start_point": [33, 17], "end_point": [33, 22], "text": "bzerr"}], "start_byte": 1399, "end_byte": 1409, "start_point": [33, 12], "end_point": [33, 22], "text": "&mut bzerr"}, {"type": ",", "children": [], "start_byte": 1409, "end_byte": 1410, "start_point": [33, 22], "end_point": [33, 23], "text": ","}, {"type": "identifier", "children": [], "start_byte": 1424, "end_byte": 1439, "start_point": [34, 12], "end_point": [34, 27], "text": "cloned_z_stream"}, {"type": ",", "children": [], "start_byte": 1439, "end_byte": 1440, "start_point": [34, 27], "end_point": [34, 28], "text": ","}, {"type": "identifier", "children": [], "start_byte": 1454, "end_byte": 1467, "start_point": [35, 12], "end_point": [35, 25], "text": "blockSize100k"}, {"type": ",", "children": [], "start_byte": 1467, "end_byte": 1468, "start_point": [35, 25], "end_point": [35, 26], "text": ","}, {"type": "identifier", "children": [], "start_byte": 1482, "end_byte": 1491, "start_point": [36, 12], "end_point": [36, 21], "text": "verbosity"}, {"type": ",", "children": [], "start_byte": 1491, "end_byte": 1492, "start_point": [36, 21], "end_point": [36, 22], "text": ","}, {"type": "identifier", "children": [], "start_byte": 1506, "end_byte": 1516, "start_point": [37, 12], "end_point": [37, 22], "text": "workFactor"}, {"type": ")", "children": [], "start_byte": 1525, "end_byte": 1526, "start_point": [38, 8], "end_point": [38, 9], "text": ")"}], "start_byte": 1385, "end_byte": 1526, "start_point": [32, 24], "end_point": [38, 9], "text": "(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )"}], "start_byte": 1369, "end_byte": 1526, "start_point": [32, 8], "end_point": [38, 9], "text": "bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )"}, {"type": "}", "children": [], "start_byte": 1531, "end_byte": 1532, "start_point": [39, 4], "end_point": [39, 5], "text": "}"}], "start_byte": 1359, "end_byte": 1532, "start_point": [31, 27], "end_point": [39, 5], "text": "{\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }"}], "start_byte": 1352, "end_byte": 1532, "start_point": [31, 20], "end_point": [39, 5], "text": "unsafe {\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }"}, {"type": ".", "children": [], "start_byte": 1532, "end_byte": 1533, "start_point": [39, 5], "end_point": [39, 6], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1533, "end_byte": 1543, "start_point": [39, 6], "end_point": [39, 16], "text": "ok_or_else"}], "start_byte": 1352, "end_byte": 1543, "start_point": [31, 20], "end_point": [39, 16], "text": "unsafe {\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }.ok_or_else"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1543, "end_byte": 1544, "start_point": [39, 16], "end_point": [39, 17], "text": "("}, {"type": "closure_expression", "children": [{"type": "closure_parameters", "children": [{"type": "|", "children": [], "start_byte": 1544, "end_byte": 1545, "start_point": [39, 17], "end_point": [39, 18], "text": "|"}, {"type": "|", "children": [], "start_byte": 1545, "end_byte": 1546, "start_point": [39, 18], "end_point": [39, 19], "text": "|"}], "start_byte": 1544, "end_byte": 1546, "start_point": [39, 17], "end_point": [39, 19], "text": "||"}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 1547, "end_byte": 1548, "start_point": [39, 20], "end_point": [39, 21], "text": "\""}, {"type": "\"", "children": [], "start_byte": 1570, "end_byte": 1571, "start_point": [39, 43], "end_point": [39, 44], "text": "\""}], "start_byte": 1547, "end_byte": 1571, "start_point": [39, 20], "end_point": [39, 44], "text": "\"BZ2_bzWriteOpen failed\""}, {"type": ".", "children": [], "start_byte": 1571, "end_byte": 1572, "start_point": [39, 44], "end_point": [39, 45], "text": "."}, {"type": "field_identifier", "children": [], "start_byte": 1572, "end_byte": 1581, "start_point": [39, 45], "end_point": [39, 54], "text": "to_string"}], "start_byte": 1547, "end_byte": 1581, "start_point": [39, 20], "end_point": [39, 54], "text": "\"BZ2_bzWriteOpen failed\".to_string"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1581, "end_byte": 1582, "start_point": [39, 54], "end_point": [39, 55], "text": "("}, {"type": ")", "children": [], "start_byte": 1582, "end_byte": 1583, "start_point": [39, 55], "end_point": [39, 56], "text": ")"}], "start_byte": 1581, "end_byte": 1583, "start_point": [39, 54], "end_point": [39, 56], "text": "()"}], "start_byte": 1547, "end_byte": 1583, "start_point": [39, 20], "end_point": [39, 56], "text": "\"BZ2_bzWriteOpen failed\".to_string()"}], "start_byte": 1544, "end_byte": 1583, "start_point": [39, 17], "end_point": [39, 56], "text": "|| \"BZ2_bzWriteOpen failed\".to_string()"}, {"type": ")", "children": [], "start_byte": 1583, "end_byte": 1584, "start_point": [39, 56], "end_point": [39, 57], "text": ")"}], "start_byte": 1543, "end_byte": 1584, "start_point": [39, 16], "end_point": [39, 57], "text": "(|| \"BZ2_bzWriteOpen failed\".to_string())"}], "start_byte": 1352, "end_byte": 1584, "start_point": [31, 20], "end_point": [39, 57], "text": "unsafe {\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }.ok_or_else(|| \"BZ2_bzWriteOpen failed\".to_string())"}, {"type": "?", "children": [], "start_byte": 1584, "end_byte": 1585, "start_point": [39, 57], "end_point": [39, 58], "text": "?"}], "start_byte": 1352, "end_byte": 1585, "start_point": [31, 20], "end_point": [39, 58], "text": "unsafe {\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }.ok_or_else(|| \"BZ2_bzWriteOpen failed\".to_string())?"}, {"type": ";", "children": [], "start_byte": 1585, "end_byte": 1586, "start_point": [39, 58], "end_point": [39, 59], "text": ";"}], "start_byte": 1336, "end_byte": 1586, "start_point": [31, 4], "end_point": [39, 59], "text": "let bzf_boxed = unsafe {\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }.ok_or_else(|| \"BZ2_bzWriteOpen failed\".to_string())?;"}, {"type": "expression_statement", "children": [{"type": "assignment_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1591, "end_byte": 1594, "start_point": [40, 4], "end_point": [40, 7], "text": "bzf"}, {"type": "=", "children": [], "start_byte": 1595, "end_byte": 1596, "start_point": [40, 8], "end_point": [40, 9], "text": "="}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1597, "end_byte": 1601, "start_point": [40, 10], "end_point": [40, 14], "text": "Some"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1601, "end_byte": 1602, "start_point": [40, 14], "end_point": [40, 15], "text": "("}, {"type": "call_expression", "children": [{"type": "scoped_identifier", "children": [{"type": "identifier", "children": [], "start_byte": 1602, "end_byte": 1605, "start_point": [40, 15], "end_point": [40, 18], "text": "Box"}, {"type": "::", "children": [], "start_byte": 1605, "end_byte": 1607, "start_point": [40, 18], "end_point": [40, 20], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 1607, "end_byte": 1615, "start_point": [40, 20], "end_point": [40, 28], "text": "into_raw"}], "start_byte": 1602, "end_byte": 1615, "start_point": [40, 15], "end_point": [40, 28], "text": "Box::into_raw"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1615, "end_byte": 1616, "start_point": [40, 28], "end_point": [40, 29], "text": "("}, {"type": "identifier", "children": [], "start_byte": 1616, "end_byte": 1625, "start_point": [40, 29], "end_point": [40, 38], "text": "bzf_boxed"}, {"type": ")", "children": [], "start_byte": 1625, "end_byte": 1626, "start_point": [40, 38], "end_point": [40, 39], "text": ")"}], "start_byte": 1615, "end_byte": 1626, "start_point": [40, 28], "end_point": [40, 39], "text": "(bzf_boxed)"}], "start_byte": 1602, "end_byte": 1626, "start_point": [40, 15], "end_point": [40, 39], "text": "Box::into_raw(bzf_boxed)"}, {"type": ")", "children": [], "start_byte": 1626, "end_byte": 1627, "start_point": [40, 39], "end_point": [40, 40], "text": ")"}], "start_byte": 1601, "end_byte": 1627, "start_point": [40, 14], "end_point": [40, 40], "text": "(Box::into_raw(bzf_boxed))"}], "start_byte": 1597, "end_byte": 1627, "start_point": [40, 10], "end_point": [40, 40], "text": "Some(Box::into_raw(bzf_boxed))"}], "start_byte": 1591, "end_byte": 1627, "start_point": [40, 4], "end_point": [40, 40], "text": "bzf = Some(Box::into_raw(bzf_boxed))"}, {"type": ";", "children": [], "start_byte": 1627, "end_byte": 1628, "start_point": [40, 40], "end_point": [40, 41], "text": ";"}], "start_byte": 1591, "end_byte": 1628, "start_point": [40, 4], "end_point": [40, 41], "text": "bzf = Some(Box::into_raw(bzf_boxed));"}, {"type": "line_comment", "children": [], "start_byte": 1629, "end_byte": 1661, "start_point": [40, 42], "end_point": [40, 74], "text": "// \u5c06 Box \u8f6c\u6362\u4e3a\u539f\u59cb\u6307\u9488\n\n    while !myf"}, {"type": "expression_statement", "children": [{"type": "while_expression", "children": [{"type": "while", "children": [], "start_byte": 1667, "end_byte": 1672, "start_point": [42, 4], "end_point": [42, 9], "text": "ream)"}, {"type": "unary_expression", "children": [{"type": "!", "children": [], "start_byte": 1673, "end_byte": 1674, "start_point": [42, 10], "end_point": [42, 11], "text": "{"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1674, "end_byte": 1680, "start_point": [42, 11], "end_point": [42, 17], "text": "\n     "}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1680, "end_byte": 1681, "start_point": [42, 17], "end_point": [42, 18], "text": " "}, {"type": "identifier", "children": [], "start_byte": 1681, "end_byte": 1687, "start_point": [42, 18], "end_point": [42, 24], "text": "  matc"}, {"type": ")", "children": [], "start_byte": 1687, "end_byte": 1688, "start_point": [42, 24], "end_point": [42, 25], "text": "h"}], "start_byte": 1680, "end_byte": 1688, "start_point": [42, 17], "end_point": [42, 25], "text": "   match"}], "start_byte": 1674, "end_byte": 1688, "start_point": [42, 11], "end_point": [42, 25], "text": "\n        match"}], "start_byte": 1673, "end_byte": 1688, "start_point": [42, 10], "end_point": [42, 25], "text": "{\n        match"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 1689, "end_byte": 1690, "start_point": [42, 26], "end_point": [42, 27], "text": "s"}, {"type": "expression_statement", "children": [{"type": "match_expression", "children": [{"type": "match", "children": [], "start_byte": 1699, "end_byte": 1704, "start_point": [43, 8], "end_point": [43, 13], "text": "d(&mu"}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1705, "end_byte": 1711, "start_point": [43, 14], "end_point": [43, 20], "text": " ibuf)"}, {"type": ".", "children": [], "start_byte": 1711, "end_byte": 1712, "start_point": [43, 20], "end_point": [43, 21], "text": " "}, {"type": "field_identifier", "children": [], "start_byte": 1712, "end_byte": 1716, "start_point": [43, 21], "end_point": [43, 25], "text": "{\n  "}], "start_byte": 1705, "end_byte": 1716, "start_point": [43, 14], "end_point": [43, 25], "text": " ibuf) {\n  "}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1716, "end_byte": 1717, "start_point": [43, 25], "end_point": [43, 26], "text": " "}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 1717, "end_byte": 1718, "start_point": [43, 26], "end_point": [43, 27], "text": " "}, {"type": "mutable_specifier", "children": [], "start_byte": 1718, "end_byte": 1721, "start_point": [43, 27], "end_point": [43, 30], "text": "   "}, {"type": "identifier", "children": [], "start_byte": 1722, "end_byte": 1726, "start_point": [43, 31], "end_point": [43, 35], "text": "    "}], "start_byte": 1717, "end_byte": 1726, "start_point": [43, 26], "end_point": [43, 35], "text": "         "}, {"type": ")", "children": [], "start_byte": 1726, "end_byte": 1727, "start_point": [43, 35], "end_point": [43, 36], "text": "O"}], "start_byte": 1716, "end_byte": 1727, "start_point": [43, 25], "end_point": [43, 36], "text": "          O"}], "start_byte": 1705, "end_byte": 1727, "start_point": [43, 14], "end_point": [43, 36], "text": " ibuf) {\n            O"}, {"type": "match_block", "children": [{"type": "{", "children": [], "start_byte": 1728, "end_byte": 1729, "start_point": [43, 37], "end_point": [43, 38], "text": "("}, {"type": "match_arm", "children": [{"type": "match_pattern", "children": [{"type": "tuple_struct_pattern", "children": [{"type": "identifier", "children": [], "start_byte": 1742, "end_byte": 1744, "start_point": [44, 12], "end_point": [44, 14], "text": "  "}, {"type": "(", "children": [], "start_byte": 1744, "end_byte": 1745, "start_point": [44, 14], "end_point": [44, 15], "text": " "}, {"type": "integer_literal", "children": [], "start_byte": 1745, "end_byte": 1746, "start_point": [44, 15], "end_point": [44, 16], "text": " "}, {"type": ")", "children": [], "start_byte": 1746, "end_byte": 1747, "start_point": [44, 16], "end_point": [44, 17], "text": " "}], "start_byte": 1742, "end_byte": 1747, "start_point": [44, 12], "end_point": [44, 17], "text": "     "}], "start_byte": 1742, "end_byte": 1747, "start_point": [44, 12], "end_point": [44, 17], "text": "     "}, {"type": "=>", "children": [], "start_byte": 1748, "end_byte": 1750, "start_point": [44, 18], "end_point": [44, 20], "text": "  "}, {"type": "break_expression", "children": [{"type": "break", "children": [], "start_byte": 1751, "end_byte": 1756, "start_point": [44, 21], "end_point": [44, 26], "text": "   Ok"}], "start_byte": 1751, "end_byte": 1756, "start_point": [44, 21], "end_point": [44, 26], "text": "   Ok"}, {"type": ",", "children": [], "start_byte": 1756, "end_byte": 1757, "start_point": [44, 26], "end_point": [44, 27], "text": "("}], "start_byte": 1742, "end_byte": 1757, "start_point": [44, 12], "end_point": [44, 27], "text": "            Ok("}, {"type": "match_arm", "children": [{"type": "match_pattern", "children": [{"type": "tuple_struct_pattern", "children": [{"type": "identifier", "children": [], "start_byte": 1770, "end_byte": 1772, "start_point": [45, 12], "end_point": [45, 14], "text": "  "}, {"type": "(", "children": [], "start_byte": 1772, "end_byte": 1773, "start_point": [45, 14], "end_point": [45, 15], "text": " "}, {"type": "identifier", "children": [], "start_byte": 1773, "end_byte": 1774, "start_point": [45, 15], "end_point": [45, 16], "text": " "}, {"type": ")", "children": [], "start_byte": 1774, "end_byte": 1775, "start_point": [45, 16], "end_point": [45, 17], "text": " "}], "start_byte": 1770, "end_byte": 1775, "start_point": [45, 12], "end_point": [45, 17], "text": "     "}], "start_byte": 1770, "end_byte": 1775, "start_point": [45, 12], "end_point": [45, 17], "text": "     "}, {"type": "=>", "children": [], "start_byte": 1776, "end_byte": 1778, "start_point": [45, 18], "end_point": [45, 20], "text": "  "}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 1779, "end_byte": 1780, "start_point": [45, 21], "end_point": [45, 22], "text": " "}, {"type": "let_declaration", "children": [{"type": "let", "children": [], "start_byte": 1797, "end_byte": 1800, "start_point": [46, 16], "end_point": [46, 19], "text": "d ="}, {"type": "identifier", "children": [], "start_byte": 1801, "end_byte": 1814, "start_point": [46, 20], "end_point": [46, 33], "text": "bzf.as_mut()."}, {"type": "=", "children": [], "start_byte": 1815, "end_byte": 1816, "start_point": [46, 34], "end_point": [46, 35], "text": "k"}, {"type": "try_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1817, "end_byte": 1820, "start_point": [46, 36], "end_point": [46, 39], "text": "or("}, {"type": ".", "children": [], "start_byte": 1820, "end_byte": 1821, "start_point": [46, 39], "end_point": [46, 40], "text": "\""}, {"type": "field_identifier", "children": [], "start_byte": 1821, "end_byte": 1827, "start_point": [46, 40], "end_point": [46, 46], "text": "BZFile"}], "start_byte": 1817, "end_byte": 1827, "start_point": [46, 36], "end_point": [46, 46], "text": "or(\"BZFile"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1827, "end_byte": 1828, "start_point": [46, 46], "end_point": [46, 47], "text": " "}, {"type": ")", "children": [], "start_byte": 1828, "end_byte": 1829, "start_point": [46, 47], "end_point": [46, 48], "text": "i"}], "start_byte": 1827, "end_byte": 1829, "start_point": [46, 46], "end_point": [46, 48], "text": " i"}], "start_byte": 1817, "end_byte": 1829, "start_point": [46, 36], "end_point": [46, 48], "text": "or(\"BZFile i"}, {"type": ".", "children": [], "start_byte": 1829, "end_byte": 1830, "start_point": [46, 48], "end_point": [46, 49], "text": "s"}, {"type": "field_identifier", "children": [], "start_byte": 1830, "end_byte": 1835, "start_point": [46, 49], "end_point": [46, 54], "text": " null"}], "start_byte": 1817, "end_byte": 1835, "start_point": [46, 36], "end_point": [46, 54], "text": "or(\"BZFile is null"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1835, "end_byte": 1836, "start_point": [46, 54], "end_point": [46, 55], "text": "\""}, {"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 1836, "end_byte": 1837, "start_point": [46, 55], "end_point": [46, 56], "text": ")"}, {"type": "\"", "children": [], "start_byte": 1851, "end_byte": 1852, "start_point": [46, 70], "end_point": [46, 71], "text": " "}], "start_byte": 1836, "end_byte": 1852, "start_point": [46, 55], "end_point": [46, 71], "text": ")?;\n            "}, {"type": ")", "children": [], "start_byte": 1852, "end_byte": 1853, "start_point": [46, 71], "end_point": [46, 72], "text": " "}], "start_byte": 1835, "end_byte": 1853, "start_point": [46, 54], "end_point": [46, 72], "text": "\")?;\n             "}], "start_byte": 1817, "end_byte": 1853, "start_point": [46, 36], "end_point": [46, 72], "text": "or(\"BZFile is null\")?;\n             "}, {"type": "?", "children": [], "start_byte": 1853, "end_byte": 1854, "start_point": [46, 72], "end_point": [46, 73], "text": " "}], "start_byte": 1817, "end_byte": 1854, "start_point": [46, 36], "end_point": [46, 73], "text": "or(\"BZFile is null\")?;\n              "}, {"type": ";", "children": [], "start_byte": 1854, "end_byte": 1855, "start_point": [46, 73], "end_point": [46, 74], "text": " "}], "start_byte": 1797, "end_byte": 1855, "start_point": [46, 16], "end_point": [46, 74], "text": "d = bzf.as_mut().ok_or(\"BZFile is null\")?;\n               "}, {"type": "expression_statement", "children": [{"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1872, "end_byte": 1884, "start_point": [47, 16], "end_point": [47, 28], "text": "t Some(bzerr"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1884, "end_byte": 1885, "start_point": [47, 28], "end_point": [47, 29], "text": ")"}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 1885, "end_byte": 1886, "start_point": [47, 29], "end_point": [47, 30], "text": ","}, {"type": "mutable_specifier", "children": [], "start_byte": 1886, "end_byte": 1889, "start_point": [47, 30], "end_point": [47, 33], "text": " *b"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1890, "end_byte": 1894, "start_point": [47, 34], "end_point": [47, 38], "text": "f_un"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1894, "end_byte": 1895, "start_point": [47, 38], "end_point": [47, 39], "text": "w"}, {"type": "identifier", "children": [], "start_byte": 1895, "end_byte": 1900, "start_point": [47, 39], "end_point": [47, 44], "text": "rappe"}, {"type": ")", "children": [], "start_byte": 1900, "end_byte": 1901, "start_point": [47, 44], "end_point": [47, 45], "text": "d"}], "start_byte": 1894, "end_byte": 1901, "start_point": [47, 38], "end_point": [47, 45], "text": "wrapped"}], "start_byte": 1890, "end_byte": 1901, "start_point": [47, 34], "end_point": [47, 45], "text": "f_unwrapped"}], "start_byte": 1885, "end_byte": 1901, "start_point": [47, 29], "end_point": [47, 45], "text": ", *bzf_unwrapped"}, {"type": ",", "children": [], "start_byte": 1901, "end_byte": 1902, "start_point": [47, 45], "end_point": [47, 46], "text": ","}, {"type": "unary_expression", "children": [{"type": "*", "children": [], "start_byte": 1903, "end_byte": 1904, "start_point": [47, 47], "end_point": [47, 48], "text": "&"}, {"type": "identifier", "children": [], "start_byte": 1904, "end_byte": 1917, "start_point": [47, 48], "end_point": [47, 61], "text": "ibuf[..n], ib"}], "start_byte": 1903, "end_byte": 1917, "start_point": [47, 47], "end_point": [47, 61], "text": "&ibuf[..n], ib"}, {"type": ",", "children": [], "start_byte": 1917, "end_byte": 1918, "start_point": [47, 61], "end_point": [47, 62], "text": "u"}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 1919, "end_byte": 1920, "start_point": [47, 63], "end_point": [47, 64], "text": "["}, {"type": "index_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1920, "end_byte": 1924, "start_point": [47, 64], "end_point": [47, 68], "text": "..n]"}, {"type": "[", "children": [], "start_byte": 1924, "end_byte": 1925, "start_point": [47, 68], "end_point": [47, 69], "text": "."}, {"type": "range_expression", "children": [{"type": "..", "children": [], "start_byte": 1925, "end_byte": 1927, "start_point": [47, 69], "end_point": [47, 71], "text": "le"}, {"type": "identifier", "children": [], "start_byte": 1927, "end_byte": 1928, "start_point": [47, 71], "end_point": [47, 72], "text": "n"}], "start_byte": 1925, "end_byte": 1928, "start_point": [47, 69], "end_point": [47, 72], "text": "len"}, {"type": "]", "children": [], "start_byte": 1928, "end_byte": 1929, "start_point": [47, 72], "end_point": [47, 73], "text": "("}], "start_byte": 1920, "end_byte": 1929, "start_point": [47, 64], "end_point": [47, 73], "text": "..n].len("}], "start_byte": 1919, "end_byte": 1929, "start_point": [47, 63], "end_point": [47, 73], "text": "[..n].len("}, {"type": ",", "children": [], "start_byte": 1929, "end_byte": 1930, "start_point": [47, 73], "end_point": [47, 74], "text": ")"}, {"type": "type_cast_expression", "children": [{"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "index_expression", "children": [{"type": "identifier", "children": [], "start_byte": 1931, "end_byte": 1935, "start_point": [47, 75], "end_point": [47, 79], "text": "as i"}, {"type": "[", "children": [], "start_byte": 1935, "end_byte": 1936, "start_point": [47, 79], "end_point": [47, 80], "text": "3"}, {"type": "range_expression", "children": [{"type": "..", "children": [], "start_byte": 1936, "end_byte": 1938, "start_point": [47, 80], "end_point": [47, 82], "text": "2)"}, {"type": "identifier", "children": [], "start_byte": 1938, "end_byte": 1939, "start_point": [47, 82], "end_point": [47, 83], "text": ";"}], "start_byte": 1936, "end_byte": 1939, "start_point": [47, 80], "end_point": [47, 83], "text": "2);"}, {"type": "]", "children": [], "start_byte": 1939, "end_byte": 1940, "start_point": [47, 83], "end_point": [47, 84], "text": "/"}], "start_byte": 1931, "end_byte": 1940, "start_point": [47, 75], "end_point": [47, 84], "text": "as i32);/"}, {"type": ".", "children": [], "start_byte": 1940, "end_byte": 1941, "start_point": [47, 84], "end_point": [47, 85], "text": "/"}, {"type": "field_identifier", "children": [], "start_byte": 1941, "end_byte": 1944, "start_point": [47, 85], "end_point": [47, 88], "text": "\u274c\n "}], "start_byte": 1931, "end_byte": 1944, "start_point": [47, 75], "end_point": [47, 88], "text": "as i32);//\u274c\n "}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 1944, "end_byte": 1945, "start_point": [47, 88], "end_point": [47, 89], "text": " "}, {"type": ")", "children": [], "start_byte": 1945, "end_byte": 1946, "start_point": [47, 89], "end_point": [47, 90], "text": " "}], "start_byte": 1944, "end_byte": 1946, "start_point": [47, 88], "end_point": [47, 90], "text": "  "}], "start_byte": 1931, "end_byte": 1946, "start_point": [47, 75], "end_point": [47, 90], "text": "as i32);//\u274c\n   "}, {"type": "as", "children": [], "start_byte": 1947, "end_byte": 1949, "start_point": [47, 91], "end_point": [47, 93], "text": "  "}, {"type": "primitive_type", "children": [], "start_byte": 1950, "end_byte": 1953, "start_point": [47, 94], "end_point": [47, 97], "text": "   "}], "start_byte": 1931, "end_byte": 1953, "start_point": [47, 75], "end_point": [47, 97], "text": "as i32);//\u274c\n          "}, {"type": ")", "children": [], "start_byte": 1953, "end_byte": 1954, "start_point": [47, 97], "end_point": [47, 98], "text": " "}], "start_byte": 1884, "end_byte": 1954, "start_point": [47, 28], "end_point": [47, 98], "text": "), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n           "}], "start_byte": 1872, "end_byte": 1954, "start_point": [47, 16], "end_point": [47, 98], "text": "t Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n           "}, {"type": ";", "children": [], "start_byte": 1954, "end_byte": 1955, "start_point": [47, 98], "end_point": [47, 99], "text": " "}], "start_byte": 1872, "end_byte": 1955, "start_point": [47, 16], "end_point": [47, 99], "text": "t Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n            "}, {"type": "line_comment", "children": [], "start_byte": 1955, "end_byte": 1960, "start_point": [47, 99], "end_point": [47, 104], "text": "    /"}, {"type": "line_comment", "children": [], "start_byte": 1977, "end_byte": 2035, "start_point": [48, 16], "end_point": [48, 74], "text": "\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return "}, {"type": "}", "children": [], "start_byte": 2048, "end_byte": 2049, "start_point": [49, 12], "end_point": [49, 13], "text": "n"}], "start_byte": 1779, "end_byte": 2049, "start_point": [45, 21], "end_point": [49, 13], "text": "  let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_strin"}], "start_byte": 1770, "end_byte": 2049, "start_point": [45, 12], "end_point": [49, 13], "text": "           let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_strin"}, {"type": "match_arm", "children": [{"type": "match_pattern", "children": [{"type": "tuple_struct_pattern", "children": [{"type": "identifier", "children": [], "start_byte": 2062, "end_byte": 2065, "start_point": [50, 12], "end_point": [50, 15], "text": " }\n"}, {"type": "(", "children": [], "start_byte": 2065, "end_byte": 2066, "start_point": [50, 15], "end_point": [50, 16], "text": "\n"}, {"type": "identifier", "children": [], "start_byte": 2066, "end_byte": 2067, "start_point": [50, 16], "end_point": [50, 17], "text": " "}, {"type": ")", "children": [], "start_byte": 2067, "end_byte": 2068, "start_point": [50, 17], "end_point": [50, 18], "text": " "}], "start_byte": 2062, "end_byte": 2068, "start_point": [50, 12], "end_point": [50, 18], "text": " }\n\n  "}], "start_byte": 2062, "end_byte": 2068, "start_point": [50, 12], "end_point": [50, 18], "text": " }\n\n  "}, {"type": "=>", "children": [], "start_byte": 2069, "end_byte": 2071, "start_point": [50, 19], "end_point": [50, 21], "text": "  "}, {"type": "return_expression", "children": [{"type": "return", "children": [], "start_byte": 2072, "end_byte": 2078, "start_point": [50, 22], "end_point": [50, 28], "text": "  if b"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2079, "end_byte": 2082, "start_point": [50, 29], "end_point": [50, 32], "text": "err"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2082, "end_byte": 2083, "start_point": [50, 32], "end_point": [50, 33], "text": " "}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2083, "end_byte": 2084, "start_point": [50, 33], "end_point": [50, 34], "text": "!"}, {"type": ".", "children": [], "start_byte": 2084, "end_byte": 2085, "start_point": [50, 34], "end_point": [50, 35], "text": "="}, {"type": "field_identifier", "children": [], "start_byte": 2085, "end_byte": 2094, "start_point": [50, 35], "end_point": [50, 44], "text": " BZ_OK {\n"}], "start_byte": 2083, "end_byte": 2094, "start_point": [50, 33], "end_point": [50, 44], "text": "!= BZ_OK {\n"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2094, "end_byte": 2095, "start_point": [50, 44], "end_point": [50, 45], "text": " "}, {"type": ")", "children": [], "start_byte": 2095, "end_byte": 2096, "start_point": [50, 45], "end_point": [50, 46], "text": " "}], "start_byte": 2094, "end_byte": 2096, "start_point": [50, 44], "end_point": [50, 46], "text": "  "}], "start_byte": 2083, "end_byte": 2096, "start_point": [50, 33], "end_point": [50, 46], "text": "!= BZ_OK {\n  "}, {"type": ")", "children": [], "start_byte": 2096, "end_byte": 2097, "start_point": [50, 46], "end_point": [50, 47], "text": " "}], "start_byte": 2082, "end_byte": 2097, "start_point": [50, 32], "end_point": [50, 47], "text": " != BZ_OK {\n   "}], "start_byte": 2079, "end_byte": 2097, "start_point": [50, 29], "end_point": [50, 47], "text": "err != BZ_OK {\n   "}], "start_byte": 2072, "end_byte": 2097, "start_point": [50, 22], "end_point": [50, 47], "text": "  if bzerr != BZ_OK {\n   "}, {"type": ",", "children": [], "start_byte": 2097, "end_byte": 2098, "start_point": [50, 47], "end_point": [50, 48], "text": " "}], "start_byte": 2062, "end_byte": 2098, "start_point": [50, 12], "end_point": [50, 48], "text": " }\n\n        if bzerr != BZ_OK {\n    "}, {"type": "}", "children": [], "start_byte": 2107, "end_byte": 2108, "start_point": [51, 8], "end_point": [51, 9], "text": "e"}], "start_byte": 1728, "end_byte": 2108, "start_point": [43, 37], "end_point": [51, 9], "text": "(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            re"}], "start_byte": 1699, "end_byte": 2108, "start_point": [43, 8], "end_point": [51, 9], "text": "d(&mut ibuf) {\n            Ok(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            re"}], "start_byte": 1699, "end_byte": 2108, "start_point": [43, 8], "end_point": [51, 9], "text": "d(&mut ibuf) {\n            Ok(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            re"}, {"type": "expression_statement", "children": [{"type": "if_expression", "children": [{"type": "if", "children": [], "start_byte": 2118, "end_byte": 2120, "start_point": [53, 8], "end_point": [53, 10], "text": "e_"}, {"type": "binary_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2121, "end_byte": 2126, "start_point": [53, 11], "end_point": [53, 16], "text": "rr(bz"}, {"type": "!=", "children": [], "start_byte": 2127, "end_byte": 2129, "start_point": [53, 17], "end_point": [53, 19], "text": "rr"}, {"type": "identifier", "children": [], "start_byte": 2130, "end_byte": 2135, "start_point": [53, 20], "end_point": [53, 25], "text": ";\n   "}], "start_byte": 2121, "end_byte": 2135, "start_point": [53, 11], "end_point": [53, 25], "text": "rr(bzerr);\n   "}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 2136, "end_byte": 2137, "start_point": [53, 26], "end_point": [53, 27], "text": " "}, {"type": "expression_statement", "children": [{"type": "return_expression", "children": [{"type": "return", "children": [], "start_byte": 2150, "end_byte": 2156, "start_point": [54, 12], "end_point": [54, 18], "text": "   if "}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2157, "end_byte": 2167, "start_point": [54, 19], "end_point": [54, 29], "text": "et Some(bz"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2167, "end_byte": 2168, "start_point": [54, 29], "end_point": [54, 30], "text": "f"}, {"type": "identifier", "children": [], "start_byte": 2168, "end_byte": 2173, "start_point": [54, 30], "end_point": [54, 35], "text": "ile) "}, {"type": ")", "children": [], "start_byte": 2173, "end_byte": 2174, "start_point": [54, 35], "end_point": [54, 36], "text": "="}], "start_byte": 2167, "end_byte": 2174, "start_point": [54, 29], "end_point": [54, 36], "text": "file) ="}], "start_byte": 2157, "end_byte": 2174, "start_point": [54, 19], "end_point": [54, 36], "text": "et Some(bzfile) ="}], "start_byte": 2150, "end_byte": 2174, "start_point": [54, 12], "end_point": [54, 36], "text": "   if let Some(bzfile) ="}, {"type": ";", "children": [], "start_byte": 2174, "end_byte": 2175, "start_point": [54, 36], "end_point": [54, 37], "text": " "}], "start_byte": 2150, "end_byte": 2175, "start_point": [54, 12], "end_point": [54, 37], "text": "   if let Some(bzfile) = "}, {"type": "}", "children": [], "start_byte": 2184, "end_byte": 2185, "start_point": [55, 8], "end_point": [55, 9], "text": " "}], "start_byte": 2136, "end_byte": 2185, "start_point": [53, 26], "end_point": [55, 9], "text": "    }\n    }\n\n    if let Some(bzfile) = bzf {\n    "}], "start_byte": 2118, "end_byte": 2185, "start_point": [53, 8], "end_point": [55, 9], "text": "e_err(bzerr);\n        }\n    }\n\n    if let Some(bzfile) = bzf {\n    "}], "start_byte": 2118, "end_byte": 2185, "start_point": [53, 8], "end_point": [55, 9], "text": "e_err(bzerr);\n        }\n    }\n\n    if let Some(bzfile) = bzf {\n    "}, {"type": "}", "children": [], "start_byte": 2190, "end_byte": 2191, "start_point": [56, 4], "end_point": [56, 5], "text": "z"}], "start_byte": 1689, "end_byte": 2191, "start_point": [42, 26], "end_point": [56, 5], "text": "stream.read(&mut ibuf) {\n            Ok(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            return handle_err(bzerr);\n        }\n    }\n\n    if let Some(bzfile) = bzf {\n        bz"}], "start_byte": 1667, "end_byte": 2191, "start_point": [42, 4], "end_point": [56, 5], "text": "ream) {\n        match stream.read(&mut ibuf) {\n            Ok(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            return handle_err(bzerr);\n        }\n    }\n\n    if let Some(bzfile) = bzf {\n        bz"}], "start_byte": 1667, "end_byte": 2191, "start_point": [42, 4], "end_point": [56, 5], "text": "ream) {\n        match stream.read(&mut ibuf) {\n            Ok(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            return handle_err(bzerr);\n        }\n    }\n\n    if let Some(bzfile) = bzf {\n        bz"}, {"type": "expression_statement", "children": [{"type": "if_expression", "children": [{"type": "if", "children": [], "start_byte": 2197, "end_byte": 2199, "start_point": [58, 4], "end_point": [58, 6], "text": "ri"}, {"type": "let_condition", "children": [{"type": "let", "children": [], "start_byte": 2200, "end_byte": 2203, "start_point": [58, 7], "end_point": [58, 10], "text": "e_c"}, {"type": "tuple_struct_pattern", "children": [{"type": "identifier", "children": [], "start_byte": 2204, "end_byte": 2208, "start_point": [58, 11], "end_point": [58, 15], "text": "ose6"}, {"type": "(", "children": [], "start_byte": 2208, "end_byte": 2209, "start_point": [58, 15], "end_point": [58, 16], "text": "4"}, {"type": "identifier", "children": [], "start_byte": 2209, "end_byte": 2215, "start_point": [58, 16], "end_point": [58, 22], "text": "(&mut "}, {"type": ")", "children": [], "start_byte": 2215, "end_byte": 2216, "start_point": [58, 22], "end_point": [58, 23], "text": "S"}], "start_byte": 2204, "end_byte": 2216, "start_point": [58, 11], "end_point": [58, 23], "text": "ose64(&mut S"}, {"type": "=", "children": [], "start_byte": 2217, "end_byte": 2218, "start_point": [58, 24], "end_point": [58, 25], "text": "m"}, {"type": "identifier", "children": [], "start_byte": 2219, "end_byte": 2222, "start_point": [58, 26], "end_point": [58, 29], "text": "(bz"}], "start_byte": 2200, "end_byte": 2222, "start_point": [58, 7], "end_point": [58, 29], "text": "e_close64(&mut Some(bz"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 2223, "end_byte": 2224, "start_point": [58, 30], "end_point": [58, 31], "text": "r"}, {"type": "expression_statement", "children": [{"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2233, "end_byte": 2253, "start_point": [59, 8], "end_point": [59, 28], "text": "e, 0, &mut Some(nbyt"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2253, "end_byte": 2254, "start_point": [59, 28], "end_point": [59, 29], "text": "e"}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 2254, "end_byte": 2255, "start_point": [59, 29], "end_point": [59, 30], "text": "s"}, {"type": "mutable_specifier", "children": [], "start_byte": 2255, "end_byte": 2258, "start_point": [59, 30], "end_point": [59, 33], "text": "_in"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2259, "end_byte": 2263, "start_point": [59, 34], "end_point": [59, 38], "text": "lo32"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2263, "end_byte": 2264, "start_point": [59, 38], "end_point": [59, 39], "text": ")"}, {"type": "identifier", "children": [], "start_byte": 2264, "end_byte": 2269, "start_point": [59, 39], "end_point": [59, 44], "text": ", &mu"}, {"type": ")", "children": [], "start_byte": 2269, "end_byte": 2270, "start_point": [59, 44], "end_point": [59, 45], "text": "t"}], "start_byte": 2263, "end_byte": 2270, "start_point": [59, 38], "end_point": [59, 45], "text": "), &mut"}], "start_byte": 2259, "end_byte": 2270, "start_point": [59, 34], "end_point": [59, 45], "text": "lo32), &mut"}], "start_byte": 2254, "end_byte": 2270, "start_point": [59, 29], "end_point": [59, 45], "text": "s_in_lo32), &mut"}, {"type": ",", "children": [], "start_byte": 2270, "end_byte": 2271, "start_point": [59, 45], "end_point": [59, 46], "text": " "}, {"type": "identifier", "children": [], "start_byte": 2272, "end_byte": 2278, "start_point": [59, 47], "end_point": [59, 53], "text": "ome(nb"}, {"type": ",", "children": [], "start_byte": 2278, "end_byte": 2279, "start_point": [59, 53], "end_point": [59, 54], "text": "y"}, {"type": "integer_literal", "children": [], "start_byte": 2280, "end_byte": 2281, "start_point": [59, 55], "end_point": [59, 56], "text": "e"}, {"type": ",", "children": [], "start_byte": 2281, "end_byte": 2282, "start_point": [59, 56], "end_point": [59, 57], "text": "s"}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 2283, "end_byte": 2284, "start_point": [59, 58], "end_point": [59, 59], "text": "i"}, {"type": "mutable_specifier", "children": [], "start_byte": 2284, "end_byte": 2287, "start_point": [59, 59], "end_point": [59, 62], "text": "n_h"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2288, "end_byte": 2292, "start_point": [59, 63], "end_point": [59, 67], "text": "32),"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2292, "end_byte": 2293, "start_point": [59, 67], "end_point": [59, 68], "text": "\n"}, {"type": "identifier", "children": [], "start_byte": 2293, "end_byte": 2307, "start_point": [59, 68], "end_point": [59, 82], "text": "              "}, {"type": ")", "children": [], "start_byte": 2307, "end_byte": 2308, "start_point": [59, 82], "end_point": [59, 83], "text": " "}], "start_byte": 2292, "end_byte": 2308, "start_point": [59, 67], "end_point": [59, 83], "text": "\n               "}], "start_byte": 2288, "end_byte": 2308, "start_point": [59, 63], "end_point": [59, 83], "text": "32),\n               "}], "start_byte": 2283, "end_byte": 2308, "start_point": [59, 58], "end_point": [59, 83], "text": "in_hi32),\n               "}, {"type": ",", "children": [], "start_byte": 2308, "end_byte": 2309, "start_point": [59, 83], "end_point": [59, 84], "text": " "}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 2310, "end_byte": 2311, "start_point": [59, 85], "end_point": [59, 86], "text": " "}, {"type": "mutable_specifier", "children": [], "start_byte": 2311, "end_byte": 2314, "start_point": [59, 86], "end_point": [59, 89], "text": "   "}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2315, "end_byte": 2319, "start_point": [59, 90], "end_point": [59, 94], "text": "    "}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2319, "end_byte": 2320, "start_point": [59, 94], "end_point": [59, 95], "text": " "}, {"type": "identifier", "children": [], "start_byte": 2320, "end_byte": 2334, "start_point": [59, 95], "end_point": [59, 109], "text": "  &mut Some(nb"}, {"type": ")", "children": [], "start_byte": 2334, "end_byte": 2335, "start_point": [59, 109], "end_point": [59, 110], "text": "y"}], "start_byte": 2319, "end_byte": 2335, "start_point": [59, 94], "end_point": [59, 110], "text": "   &mut Some(nby"}], "start_byte": 2315, "end_byte": 2335, "start_point": [59, 90], "end_point": [59, 110], "text": "       &mut Some(nby"}], "start_byte": 2310, "end_byte": 2335, "start_point": [59, 85], "end_point": [59, 110], "text": "            &mut Some(nby"}, {"type": ",", "children": [], "start_byte": 2335, "end_byte": 2336, "start_point": [59, 110], "end_point": [59, 111], "text": "t"}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 2366, "end_byte": 2367, "start_point": [60, 29], "end_point": [60, 30], "text": "_"}, {"type": "mutable_specifier", "children": [], "start_byte": 2367, "end_byte": 2370, "start_point": [60, 30], "end_point": [60, 33], "text": "out"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2371, "end_byte": 2375, "start_point": [60, 34], "end_point": [60, 38], "text": "hi32"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2375, "end_byte": 2376, "start_point": [60, 38], "end_point": [60, 39], "text": ")"}, {"type": "identifier", "children": [], "start_byte": 2376, "end_byte": 2391, "start_point": [60, 39], "end_point": [60, 54], "text": ");\n        // \u79fb"}, {"type": ")", "children": [], "start_byte": 2391, "end_byte": 2392, "start_point": [60, 54], "end_point": [60, 55], "text": "\u9664"}], "start_byte": 2375, "end_byte": 2392, "start_point": [60, 38], "end_point": [60, 55], "text": "));\n        // \u79fb\u9664"}], "start_byte": 2371, "end_byte": 2392, "start_point": [60, 34], "end_point": [60, 55], "text": "hi32));\n        // \u79fb\u9664"}], "start_byte": 2366, "end_byte": 2392, "start_point": [60, 29], "end_point": [60, 55], "text": "_out_hi32));\n        // \u79fb\u9664"}, {"type": ",", "children": [], "start_byte": 2392, "end_byte": 2393, "start_point": [60, 55], "end_point": [60, 56], "text": " "}, {"type": "reference_expression", "children": [{"type": "&", "children": [], "start_byte": 2394, "end_byte": 2395, "start_point": [60, 57], "end_point": [60, 58], "text": "a"}, {"type": "mutable_specifier", "children": [], "start_byte": 2395, "end_byte": 2398, "start_point": [60, 58], "end_point": [60, 61], "text": "p_e"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2399, "end_byte": 2403, "start_point": [60, 62], "end_point": [60, 66], "text": "r \u8c03\u7528"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2403, "end_byte": 2404, "start_point": [60, 66], "end_point": [60, 67], "text": "\uff0c"}, {"type": "identifier", "children": [], "start_byte": 2404, "end_byte": 2419, "start_point": [60, 67], "end_point": [60, 82], "text": "\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result"}, {"type": ")", "children": [], "start_byte": 2419, "end_byte": 2420, "start_point": [60, 82], "end_point": [60, 83], "text": "\n"}], "start_byte": 2403, "end_byte": 2420, "start_point": [60, 66], "end_point": [60, 83], "text": "\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n"}], "start_byte": 2399, "end_byte": 2420, "start_point": [60, 62], "end_point": [60, 83], "text": "r \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n"}], "start_byte": 2394, "end_byte": 2420, "start_point": [60, 57], "end_point": [60, 83], "text": "ap_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n"}, {"type": ")", "children": [], "start_byte": 2420, "end_byte": 2421, "start_point": [60, 83], "end_point": [60, 84], "text": " "}], "start_byte": 2253, "end_byte": 2421, "start_point": [59, 28], "end_point": [60, 84], "text": "es_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n "}], "start_byte": 2233, "end_byte": 2421, "start_point": [59, 8], "end_point": [60, 84], "text": "e, 0, &mut Some(nbytes_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n "}, {"type": ";", "children": [], "start_byte": 2421, "end_byte": 2422, "start_point": [60, 84], "end_point": [60, 85], "text": " "}], "start_byte": 2233, "end_byte": 2422, "start_point": [59, 8], "end_point": [60, 85], "text": "e, 0, &mut Some(nbytes_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n  "}, {"type": "line_comment", "children": [], "start_byte": 2431, "end_byte": 2489, "start_point": [61, 8], "end_point": [61, 66], "text": "k(())\n}\n\nfn handle_err(bzerr: i32) -> Result<(), String> {"}, {"type": "}", "children": [], "start_byte": 2494, "end_byte": 2495, "start_point": [62, 4], "end_point": [62, 5], "text": "m"}], "start_byte": 2223, "end_byte": 2495, "start_point": [58, 30], "end_point": [62, 5], "text": "rr), bzfile, 0, &mut Some(nbytes_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n    }\n    Ok(())\n}\n\nfn handle_err(bzerr: i32) -> Result<(), String> {\n    m"}], "start_byte": 2197, "end_byte": 2495, "start_point": [58, 4], "end_point": [62, 5], "text": "rite_close64(&mut Some(bzerr), bzfile, 0, &mut Some(nbytes_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n    }\n    Ok(())\n}\n\nfn handle_err(bzerr: i32) -> Result<(), String> {\n    m"}], "start_byte": 2197, "end_byte": 2495, "start_point": [58, 4], "end_point": [62, 5], "text": "rite_close64(&mut Some(bzerr), bzfile, 0, &mut Some(nbytes_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n    }\n    Ok(())\n}\n\nfn handle_err(bzerr: i32) -> Result<(), String> {\n    m"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2500, "end_byte": 2502, "start_point": [63, 4], "end_point": [63, 6], "text": "bz"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2502, "end_byte": 2503, "start_point": [63, 6], "end_point": [63, 7], "text": "e"}, {"type": "unit_expression", "children": [{"type": "(", "children": [], "start_byte": 2503, "end_byte": 2504, "start_point": [63, 7], "end_point": [63, 8], "text": "r"}, {"type": ")", "children": [], "start_byte": 2504, "end_byte": 2505, "start_point": [63, 8], "end_point": [63, 9], "text": "r"}], "start_byte": 2503, "end_byte": 2505, "start_point": [63, 7], "end_point": [63, 9], "text": "rr"}, {"type": ")", "children": [], "start_byte": 2505, "end_byte": 2506, "start_point": [63, 9], "end_point": [63, 10], "text": " "}], "start_byte": 2502, "end_byte": 2506, "start_point": [63, 6], "end_point": [63, 10], "text": "err "}], "start_byte": 2500, "end_byte": 2506, "start_point": [63, 4], "end_point": [63, 10], "text": "bzerr "}, {"type": "}", "children": [], "start_byte": 2507, "end_byte": 2508, "start_point": [64, 0], "end_point": [64, 1], "text": "\n"}], "start_byte": 856, "end_byte": 2508, "start_point": [17, 85], "end_point": [64, 1], "text": "{\n    let mut bzf: Option<BZFILE> = None;\n    let mut ibuf = [0u8; 5000];\n    let mut nbytes_in_lo32 = 0u32;\n    let mut nbytes_in_hi32 = 0u32;\n    let mut nbytes_out_lo32 = 0u32;\n    let mut nbytes_out_hi32 = 0u32;\n    let mut bzerr = 0i32;\n    // println!(\"110_compressStream\");\n    if stream.metadata().is_err() || z_stream.metadata().is_err() {\n        return Err(\"IO error\".to_string());\n    }\n\n    let cloned_z_stream = z_stream.try_clone().map_err(|e| e.to_string())?;\n    let bzf_boxed = unsafe {\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }.ok_or_else(|| \"BZ2_bzWriteOpen failed\".to_string())?;\n    bzf = Some(Box::into_raw(bzf_boxed)); // \u5c06 Box \u8f6c\u6362\u4e3a\u539f\u59cb\u6307\u9488\n\n    while !myfeof(stream) {\n        match stream.read(&mut ibuf) {\n            Ok(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            return handle_err(bzerr);\n        }\n    }\n\n    if let Some(bzfile) = bzf {\n        bz2_bz_write_close64(&mut Some(bzerr), bzfile, 0, &mut Some(nbytes_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n    }\n    Ok(())\n}\n\nfn handle_err(bzerr: i32) -> Result<(), String> {\n    match bzerr {\n"}], "start_byte": 771, "end_byte": 2508, "start_point": [17, 0], "end_point": [64, 1], "text": "pub fn compress_stream(stream: &mut File, z_stream: &mut File) -> Result<(), String> {\n    let mut bzf: Option<BZFILE> = None;\n    let mut ibuf = [0u8; 5000];\n    let mut nbytes_in_lo32 = 0u32;\n    let mut nbytes_in_hi32 = 0u32;\n    let mut nbytes_out_lo32 = 0u32;\n    let mut nbytes_out_hi32 = 0u32;\n    let mut bzerr = 0i32;\n    // println!(\"110_compressStream\");\n    if stream.metadata().is_err() || z_stream.metadata().is_err() {\n        return Err(\"IO error\".to_string());\n    }\n\n    let cloned_z_stream = z_stream.try_clone().map_err(|e| e.to_string())?;\n    let bzf_boxed = unsafe {\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }.ok_or_else(|| \"BZ2_bzWriteOpen failed\".to_string())?;\n    bzf = Some(Box::into_raw(bzf_boxed)); // \u5c06 Box \u8f6c\u6362\u4e3a\u539f\u59cb\u6307\u9488\n\n    while !myfeof(stream) {\n        match stream.read(&mut ibuf) {\n            Ok(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            return handle_err(bzerr);\n        }\n    }\n\n    if let Some(bzfile) = bzf {\n        bz2_bz_write_close64(&mut Some(bzerr), bzfile, 0, &mut Some(nbytes_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n    }\n    Ok(())\n}\n\nfn handle_err(bzerr: i32) -> Result<(), String> {\n    match bzerr {\n"}, {"type": "function_item", "children": [{"type": "fn", "children": [], "start_byte": 2510, "end_byte": 2512, "start_point": [66, 0], "end_point": [66, 2], "text": "  "}, {"type": "identifier", "children": [], "start_byte": 2513, "end_byte": 2523, "start_point": [66, 3], "end_point": [66, 13], "text": "   BZ_CONF"}, {"type": "parameters", "children": [{"type": "(", "children": [], "start_byte": 2523, "end_byte": 2524, "start_point": [66, 13], "end_point": [66, 14], "text": "I"}, {"type": "parameter", "children": [{"type": "identifier", "children": [], "start_byte": 2524, "end_byte": 2529, "start_point": [66, 14], "end_point": [66, 19], "text": "G_ERR"}, {"type": ":", "children": [], "start_byte": 2529, "end_byte": 2530, "start_point": [66, 19], "end_point": [66, 20], "text": "O"}, {"type": "primitive_type", "children": [], "start_byte": 2531, "end_byte": 2534, "start_point": [66, 21], "end_point": [66, 24], "text": " =>"}], "start_byte": 2524, "end_byte": 2534, "start_point": [66, 14], "end_point": [66, 24], "text": "G_ERROR =>"}, {"type": ")", "children": [], "start_byte": 2534, "end_byte": 2535, "start_point": [66, 24], "end_point": [66, 25], "text": " "}], "start_byte": 2523, "end_byte": 2535, "start_point": [66, 13], "end_point": [66, 25], "text": "IG_ERROR => "}, {"type": "->", "children": [], "start_byte": 2536, "end_byte": 2538, "start_point": [66, 26], "end_point": [66, 28], "text": "\n "}, {"type": "generic_type", "children": [{"type": "type_identifier", "children": [], "start_byte": 2539, "end_byte": 2545, "start_point": [66, 29], "end_point": [66, 35], "text": "      "}, {"type": "type_arguments", "children": [{"type": "<", "children": [], "start_byte": 2545, "end_byte": 2546, "start_point": [66, 35], "end_point": [66, 36], "text": " "}, {"type": "unit_type", "children": [{"type": "(", "children": [], "start_byte": 2546, "end_byte": 2547, "start_point": [66, 36], "end_point": [66, 37], "text": " "}, {"type": ")", "children": [], "start_byte": 2547, "end_byte": 2548, "start_point": [66, 37], "end_point": [66, 38], "text": " "}], "start_byte": 2546, "end_byte": 2548, "start_point": [66, 36], "end_point": [66, 38], "text": "  "}, {"type": ",", "children": [], "start_byte": 2548, "end_byte": 2549, "start_point": [66, 38], "end_point": [66, 39], "text": " "}, {"type": "type_identifier", "children": [], "start_byte": 2550, "end_byte": 2556, "start_point": [66, 40], "end_point": [66, 46], "text": "onfig_"}, {"type": ">", "children": [], "start_byte": 2556, "end_byte": 2557, "start_point": [66, 46], "end_point": [66, 47], "text": "e"}], "start_byte": 2545, "end_byte": 2557, "start_point": [66, 35], "end_point": [66, 47], "text": "    config_e"}], "start_byte": 2539, "end_byte": 2557, "start_point": [66, 29], "end_point": [66, 47], "text": "          config_e"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 2558, "end_byte": 2559, "start_point": [66, 48], "end_point": [66, 49], "text": "r"}, {"type": "expression_statement", "children": [{"type": "match_expression", "children": [{"type": "match", "children": [], "start_byte": 2564, "end_byte": 2569, "start_point": [67, 4], "end_point": [67, 9], "text": "\n    "}, {"type": "identifier", "children": [], "start_byte": 2570, "end_byte": 2575, "start_point": [67, 10], "end_point": [67, 15], "text": "     "}, {"type": "match_block", "children": [{"type": "{", "children": [], "start_byte": 2576, "end_byte": 2577, "start_point": [67, 16], "end_point": [67, 17], "text": " "}, {"type": "match_arm", "children": [{"type": "match_pattern", "children": [{"type": "identifier", "children": [], "start_byte": 2586, "end_byte": 2601, "start_point": [68, 8], "end_point": [68, 23], "text": "iguration error"}], "start_byte": 2586, "end_byte": 2601, "start_point": [68, 8], "end_point": [68, 23], "text": "iguration error"}, {"type": "=>", "children": [], "start_byte": 2602, "end_byte": 2604, "start_point": [68, 24], "end_point": [68, 26], "text": ".t"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 2605, "end_byte": 2606, "start_point": [68, 27], "end_point": [68, 28], "text": "_"}, {"type": "expression_statement", "children": [{"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2619, "end_byte": 2631, "start_point": [69, 12], "end_point": [69, 24], "text": "     },\n    "}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2631, "end_byte": 2632, "start_point": [69, 24], "end_point": [69, 25], "text": " "}, {"type": ")", "children": [], "start_byte": 2632, "end_byte": 2633, "start_point": [69, 25], "end_point": [69, 26], "text": " "}], "start_byte": 2631, "end_byte": 2633, "start_point": [69, 24], "end_point": [69, 26], "text": "  "}], "start_byte": 2619, "end_byte": 2633, "start_point": [69, 12], "end_point": [69, 26], "text": "     },\n      "}, {"type": ";", "children": [], "start_byte": 2633, "end_byte": 2634, "start_point": [69, 26], "end_point": [69, 27], "text": " "}], "start_byte": 2619, "end_byte": 2634, "start_point": [69, 12], "end_point": [69, 27], "text": "     },\n       "}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2647, "end_byte": 2650, "start_point": [70, 12], "end_point": [70, 15], "text": " =>"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2650, "end_byte": 2651, "start_point": [70, 15], "end_point": [70, 16], "text": " "}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 2651, "end_byte": 2652, "start_point": [70, 16], "end_point": [70, 17], "text": "{"}, {"type": "\"", "children": [], "start_byte": 2671, "end_byte": 2672, "start_point": [70, 36], "end_point": [70, 37], "text": "_"}], "start_byte": 2651, "end_byte": 2672, "start_point": [70, 16], "end_point": [70, 37], "text": "{\n            out_of_"}, {"type": ".", "children": [], "start_byte": 2672, "end_byte": 2673, "start_point": [70, 37], "end_point": [70, 38], "text": "m"}, {"type": "field_identifier", "children": [], "start_byte": 2673, "end_byte": 2682, "start_point": [70, 38], "end_point": [70, 47], "text": "emory(\"in"}], "start_byte": 2651, "end_byte": 2682, "start_point": [70, 16], "end_point": [70, 47], "text": "{\n            out_of_memory(\"in"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2682, "end_byte": 2683, "start_point": [70, 47], "end_point": [70, 48], "text": "p"}, {"type": ")", "children": [], "start_byte": 2683, "end_byte": 2684, "start_point": [70, 48], "end_point": [70, 49], "text": "u"}], "start_byte": 2682, "end_byte": 2684, "start_point": [70, 47], "end_point": [70, 49], "text": "pu"}], "start_byte": 2651, "end_byte": 2684, "start_point": [70, 16], "end_point": [70, 49], "text": "{\n            out_of_memory(\"inpu"}, {"type": ")", "children": [], "start_byte": 2684, "end_byte": 2685, "start_point": [70, 49], "end_point": [70, 50], "text": "t"}], "start_byte": 2650, "end_byte": 2685, "start_point": [70, 15], "end_point": [70, 50], "text": " {\n            out_of_memory(\"input"}], "start_byte": 2647, "end_byte": 2685, "start_point": [70, 12], "end_point": [70, 50], "text": " => {\n            out_of_memory(\"input"}, {"type": "}", "children": [], "start_byte": 2694, "end_byte": 2695, "start_point": [71, 8], "end_point": [71, 9], "text": "o"}], "start_byte": 2605, "end_byte": 2695, "start_point": [68, 27], "end_point": [71, 9], "text": "_string())\n        },\n        BZ_MEM_ERROR => {\n            out_of_memory(\"input_name\", \"o"}, {"type": ",", "children": [], "start_byte": 2695, "end_byte": 2696, "start_point": [71, 9], "end_point": [71, 10], "text": "u"}], "start_byte": 2586, "end_byte": 2696, "start_point": [68, 8], "end_point": [71, 10], "text": "iguration error\".to_string())\n        },\n        BZ_MEM_ERROR => {\n            out_of_memory(\"input_name\", \"ou"}, {"type": "match_arm", "children": [{"type": "match_pattern", "children": [{"type": "identifier", "children": [], "start_byte": 2705, "end_byte": 2717, "start_point": [72, 8], "end_point": [72, 20], "text": "\", \"program_"}], "start_byte": 2705, "end_byte": 2717, "start_point": [72, 8], "end_point": [72, 20], "text": "\", \"program_"}, {"type": "=>", "children": [], "start_byte": 2718, "end_byte": 2720, "start_point": [72, 21], "end_point": [72, 23], "text": "am"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 2721, "end_byte": 2722, "start_point": [72, 24], "end_point": [72, 25], "text": "\""}, {"type": "expression_statement", "children": [{"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2735, "end_byte": 2748, "start_point": [73, 12], "end_point": [73, 25], "text": "        Err(\""}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2748, "end_byte": 2749, "start_point": [73, 25], "end_point": [73, 26], "text": "O"}, {"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 2749, "end_byte": 2750, "start_point": [73, 26], "end_point": [73, 27], "text": "u"}, {"type": "\"", "children": [], "start_byte": 2760, "end_byte": 2761, "start_point": [73, 37], "end_point": [73, 38], "text": "y"}], "start_byte": 2749, "end_byte": 2761, "start_point": [73, 26], "end_point": [73, 38], "text": "ut of memory"}, {"type": ",", "children": [], "start_byte": 2761, "end_byte": 2762, "start_point": [73, 38], "end_point": [73, 39], "text": "\""}, {"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 2763, "end_byte": 2764, "start_point": [73, 40], "end_point": [73, 41], "text": "t"}, {"type": "\"", "children": [], "start_byte": 2775, "end_byte": 2776, "start_point": [73, 52], "end_point": [73, 53], "text": "\n"}], "start_byte": 2763, "end_byte": 2776, "start_point": [73, 40], "end_point": [73, 53], "text": "to_string())\n"}, {"type": ",", "children": [], "start_byte": 2776, "end_byte": 2777, "start_point": [73, 53], "end_point": [73, 54], "text": " "}, {"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 2778, "end_byte": 2779, "start_point": [73, 55], "end_point": [73, 56], "text": " "}, {"type": "\"", "children": [], "start_byte": 2791, "end_byte": 2792, "start_point": [73, 68], "end_point": [73, 69], "text": " "}], "start_byte": 2778, "end_byte": 2792, "start_point": [73, 55], "end_point": [73, 69], "text": "      },\n     "}, {"type": ",", "children": [], "start_byte": 2792, "end_byte": 2793, "start_point": [73, 69], "end_point": [73, 70], "text": " "}, {"type": "identifier", "children": [], "start_byte": 2794, "end_byte": 2798, "start_point": [73, 71], "end_point": [73, 75], "text": " BZ_"}, {"type": ")", "children": [], "start_byte": 2798, "end_byte": 2799, "start_point": [73, 75], "end_point": [73, 76], "text": "I"}], "start_byte": 2748, "end_byte": 2799, "start_point": [73, 25], "end_point": [73, 76], "text": "Out of memory\".to_string())\n        },\n        BZ_I"}], "start_byte": 2735, "end_byte": 2799, "start_point": [73, 12], "end_point": [73, 76], "text": "        Err(\"Out of memory\".to_string())\n        },\n        BZ_I"}, {"type": ";", "children": [], "start_byte": 2799, "end_byte": 2800, "start_point": [73, 76], "end_point": [73, 77], "text": "O"}], "start_byte": 2735, "end_byte": 2800, "start_point": [73, 12], "end_point": [73, 77], "text": "        Err(\"Out of memory\".to_string())\n        },\n        BZ_IO"}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2813, "end_byte": 2816, "start_point": [74, 12], "end_point": [74, 15], "text": "   "}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2816, "end_byte": 2817, "start_point": [74, 15], "end_point": [74, 16], "text": " "}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 2817, "end_byte": 2818, "start_point": [74, 16], "end_point": [74, 17], "text": " "}, {"type": "\"", "children": [], "start_byte": 2831, "end_byte": 2832, "start_point": [74, 30], "end_point": [74, 31], "text": "r"}], "start_byte": 2817, "end_byte": 2832, "start_point": [74, 16], "end_point": [74, 31], "text": "       io_error"}, {"type": ".", "children": [], "start_byte": 2832, "end_byte": 2833, "start_point": [74, 31], "end_point": [74, 32], "text": "("}, {"type": "field_identifier", "children": [], "start_byte": 2833, "end_byte": 2842, "start_point": [74, 32], "end_point": [74, 41], "text": ");\n      "}], "start_byte": 2817, "end_byte": 2842, "start_point": [74, 16], "end_point": [74, 41], "text": "       io_error();\n      "}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2842, "end_byte": 2843, "start_point": [74, 41], "end_point": [74, 42], "text": " "}, {"type": ")", "children": [], "start_byte": 2843, "end_byte": 2844, "start_point": [74, 42], "end_point": [74, 43], "text": " "}], "start_byte": 2842, "end_byte": 2844, "start_point": [74, 41], "end_point": [74, 43], "text": "  "}], "start_byte": 2817, "end_byte": 2844, "start_point": [74, 16], "end_point": [74, 43], "text": "       io_error();\n        "}, {"type": ")", "children": [], "start_byte": 2844, "end_byte": 2845, "start_point": [74, 43], "end_point": [74, 44], "text": " "}], "start_byte": 2816, "end_byte": 2845, "start_point": [74, 15], "end_point": [74, 44], "text": "        io_error();\n         "}], "start_byte": 2813, "end_byte": 2845, "start_point": [74, 12], "end_point": [74, 44], "text": "           io_error();\n         "}, {"type": "}", "children": [], "start_byte": 2854, "end_byte": 2855, "start_point": [75, 8], "end_point": [75, 9], "text": "O"}], "start_byte": 2721, "end_byte": 2855, "start_point": [72, 24], "end_point": [75, 9], "text": "\", None);\n            Err(\"Out of memory\".to_string())\n        },\n        BZ_IO_ERROR => {\n            io_error();\n            Err(\"IO"}, {"type": ",", "children": [], "start_byte": 2855, "end_byte": 2856, "start_point": [75, 9], "end_point": [75, 10], "text": " "}], "start_byte": 2705, "end_byte": 2856, "start_point": [72, 8], "end_point": [75, 10], "text": "\", \"program_name\", None);\n            Err(\"Out of memory\".to_string())\n        },\n        BZ_IO_ERROR => {\n            io_error();\n            Err(\"IO "}, {"type": "match_arm", "children": [{"type": "match_pattern", "children": [{"type": "identifier", "children": [], "start_byte": 2865, "end_byte": 2876, "start_point": [76, 8], "end_point": [76, 19], "text": "_string())\n"}], "start_byte": 2865, "end_byte": 2876, "start_point": [76, 8], "end_point": [76, 19], "text": "_string())\n"}, {"type": "=>", "children": [], "start_byte": 2877, "end_byte": 2879, "start_point": [76, 20], "end_point": [76, 22], "text": "  "}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 2880, "end_byte": 2881, "start_point": [76, 23], "end_point": [76, 24], "text": " "}, {"type": "expression_statement", "children": [{"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2894, "end_byte": 2902, "start_point": [77, 12], "end_point": [77, 20], "text": " _ => {\n"}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2902, "end_byte": 2903, "start_point": [77, 20], "end_point": [77, 21], "text": " "}, {"type": ")", "children": [], "start_byte": 2903, "end_byte": 2904, "start_point": [77, 21], "end_point": [77, 22], "text": " "}], "start_byte": 2902, "end_byte": 2904, "start_point": [77, 20], "end_point": [77, 22], "text": "  "}], "start_byte": 2894, "end_byte": 2904, "start_point": [77, 12], "end_point": [77, 22], "text": " _ => {\n  "}, {"type": ";", "children": [], "start_byte": 2904, "end_byte": 2905, "start_point": [77, 22], "end_point": [77, 23], "text": " "}], "start_byte": 2894, "end_byte": 2905, "start_point": [77, 12], "end_point": [77, 23], "text": " _ => {\n   "}, {"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 2918, "end_byte": 2921, "start_point": [78, 12], "end_point": [78, 15], "text": "c!("}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2921, "end_byte": 2922, "start_point": [78, 15], "end_point": [78, 16], "text": "\""}, {"type": "call_expression", "children": [{"type": "field_expression", "children": [{"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 2922, "end_byte": 2923, "start_point": [78, 16], "end_point": [78, 17], "text": "c"}, {"type": "\"", "children": [], "start_byte": 2931, "end_byte": 2932, "start_point": [78, 25], "end_point": [78, 26], "text": "u"}], "start_byte": 2922, "end_byte": 2932, "start_point": [78, 16], "end_point": [78, 26], "text": "compress:u"}, {"type": ".", "children": [], "start_byte": 2932, "end_byte": 2933, "start_point": [78, 26], "end_point": [78, 27], "text": "n"}, {"type": "field_identifier", "children": [], "start_byte": 2933, "end_byte": 2942, "start_point": [78, 27], "end_point": [78, 36], "text": "expected "}], "start_byte": 2922, "end_byte": 2942, "start_point": [78, 16], "end_point": [78, 36], "text": "compress:unexpected "}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 2942, "end_byte": 2943, "start_point": [78, 36], "end_point": [78, 37], "text": "e"}, {"type": ")", "children": [], "start_byte": 2943, "end_byte": 2944, "start_point": [78, 37], "end_point": [78, 38], "text": "r"}], "start_byte": 2942, "end_byte": 2944, "start_point": [78, 36], "end_point": [78, 38], "text": "er"}], "start_byte": 2922, "end_byte": 2944, "start_point": [78, 16], "end_point": [78, 38], "text": "compress:unexpected er"}, {"type": ")", "children": [], "start_byte": 2944, "end_byte": 2945, "start_point": [78, 38], "end_point": [78, 39], "text": "r"}], "start_byte": 2921, "end_byte": 2945, "start_point": [78, 15], "end_point": [78, 39], "text": "\"compress:unexpected err"}], "start_byte": 2918, "end_byte": 2945, "start_point": [78, 12], "end_point": [78, 39], "text": "c!(\"compress:unexpected err"}, {"type": "}", "children": [], "start_byte": 2954, "end_byte": 2955, "start_point": [79, 8], "end_point": [79, 9], "text": " "}], "start_byte": 2880, "end_byte": 2955, "start_point": [76, 23], "end_point": [79, 9], "text": "    },\n        _ => {\n            panic!(\"compress:unexpected error\");\n    "}, {"type": ",", "children": [], "start_byte": 2955, "end_byte": 2956, "start_point": [79, 9], "end_point": [79, 10], "text": " "}], "start_byte": 2865, "end_byte": 2956, "start_point": [76, 8], "end_point": [79, 10], "text": "_string())\n        },\n        _ => {\n            panic!(\"compress:unexpected error\");\n     "}, {"type": "match_arm", "children": [{"type": "match_pattern", "children": [{"type": "_", "children": [], "start_byte": 2965, "end_byte": 2966, "start_point": [80, 8], "end_point": [80, 9], "text": "}"}], "start_byte": 2965, "end_byte": 2966, "start_point": [80, 8], "end_point": [80, 9], "text": "}"}, {"type": "=>", "children": [], "start_byte": 2967, "end_byte": 2969, "start_point": [80, 10], "end_point": [80, 12], "text": "}\n"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 2970, "end_byte": 2971, "start_point": [80, 13], "end_point": [80, 14], "text": "/"}, {"type": "expression_statement", "children": [{"type": "macro_invocation", "children": [{"type": "identifier", "children": [], "start_byte": 2984, "end_byte": 2989, "start_point": [81, 12], "end_point": [81, 17], "text": "ite_o"}, {"type": "!", "children": [], "start_byte": 2989, "end_byte": 2990, "start_point": [81, 17], "end_point": [81, 18], "text": "p"}, {"type": "token_tree", "children": [{"type": "(", "children": [], "start_byte": 2990, "end_byte": 2991, "start_point": [81, 18], "end_point": [81, 19], "text": "e"}, {"type": "string_literal", "children": [{"type": "\"", "children": [], "start_byte": 2991, "end_byte": 2992, "start_point": [81, 19], "end_point": [81, 20], "text": "n"}, {"type": "\"", "children": [], "start_byte": 3017, "end_byte": 3018, "start_point": [81, 45], "end_point": [81, 46], "text": "i"}], "start_byte": 2991, "end_byte": 3018, "start_point": [81, 19], "end_point": [81, 46], "text": "n, bz2_bz_write, bz2_bz_wri"}, {"type": ")", "children": [], "start_byte": 3018, "end_byte": 3019, "start_point": [81, 46], "end_point": [81, 47], "text": "t"}], "start_byte": 2990, "end_byte": 3019, "start_point": [81, 18], "end_point": [81, 47], "text": "en, bz2_bz_write, bz2_bz_writ"}], "start_byte": 2984, "end_byte": 3019, "start_point": [81, 12], "end_point": [81, 47], "text": "ite_open, bz2_bz_write, bz2_bz_writ"}, {"type": ";", "children": [], "start_byte": 3019, "end_byte": 3020, "start_point": [81, 47], "end_point": [81, 48], "text": "e"}], "start_byte": 2984, "end_byte": 3020, "start_point": [81, 12], "end_point": [81, 48], "text": "ite_open, bz2_bz_write, bz2_bz_write"}, {"type": "}", "children": [], "start_byte": 3029, "end_byte": 3030, "start_point": [82, 8], "end_point": [82, 9], "text": " "}], "start_byte": 2970, "end_byte": 3030, "start_point": [80, 13], "end_point": [82, 9], "text": "// \u5047\u5b9a bz2_bzwrite_open, bz2_bz_write, bz2_bz_write_close64, "}], "start_byte": 2965, "end_byte": 3030, "start_point": [80, 8], "end_point": [82, 9], "text": "}\n}\n\n// \u5047\u5b9a bz2_bzwrite_open, bz2_bz_write, bz2_bz_write_close64, "}, {"type": "}", "children": [], "start_byte": 3035, "end_byte": 3036, "start_point": [83, 4], "end_point": [83, 5], "text": "g"}], "start_byte": 2576, "end_byte": 3036, "start_point": [67, 16], "end_point": [83, 5], "text": " Err(\"Configuration error\".to_string())\n        },\n        BZ_MEM_ERROR => {\n            out_of_memory(\"input_name\", \"output_name\", \"program_name\", None);\n            Err(\"Out of memory\".to_string())\n        },\n        BZ_IO_ERROR => {\n            io_error();\n            Err(\"IO error\".to_string())\n        },\n        _ => {\n            panic!(\"compress:unexpected error\");\n        }\n    }\n}\n\n// \u5047\u5b9a bz2_bzwrite_open, bz2_bz_write, bz2_bz_write_close64, config"}], "start_byte": 2564, "end_byte": 3036, "start_point": [67, 4], "end_point": [83, 5], "text": "\n            Err(\"Configuration error\".to_string())\n        },\n        BZ_MEM_ERROR => {\n            out_of_memory(\"input_name\", \"output_name\", \"program_name\", None);\n            Err(\"Out of memory\".to_string())\n        },\n        BZ_IO_ERROR => {\n            io_error();\n            Err(\"IO error\".to_string())\n        },\n        _ => {\n            panic!(\"compress:unexpected error\");\n        }\n    }\n}\n\n// \u5047\u5b9a bz2_bzwrite_open, bz2_bz_write, bz2_bz_write_close64, config"}], "start_byte": 2564, "end_byte": 3036, "start_point": [67, 4], "end_point": [83, 5], "text": "\n            Err(\"Configuration error\".to_string())\n        },\n        BZ_MEM_ERROR => {\n            out_of_memory(\"input_name\", \"output_name\", \"program_name\", None);\n            Err(\"Out of memory\".to_string())\n        },\n        BZ_IO_ERROR => {\n            io_error();\n            Err(\"IO error\".to_string())\n        },\n        _ => {\n            panic!(\"compress:unexpected error\");\n        }\n    }\n}\n\n// \u5047\u5b9a bz2_bzwrite_open, bz2_bz_write, bz2_bz_write_close64, config"}, {"type": "}", "children": [], "start_byte": 3037, "end_byte": 3038, "start_point": [84, 0], "end_point": [84, 1], "text": "e"}], "start_byte": 2558, "end_byte": 3038, "start_point": [66, 48], "end_point": [84, 1], "text": "ror();\n            Err(\"Configuration error\".to_string())\n        },\n        BZ_MEM_ERROR => {\n            out_of_memory(\"input_name\", \"output_name\", \"program_name\", None);\n            Err(\"Out of memory\".to_string())\n        },\n        BZ_IO_ERROR => {\n            io_error();\n            Err(\"IO error\".to_string())\n        },\n        _ => {\n            panic!(\"compress:unexpected error\");\n        }\n    }\n}\n\n// \u5047\u5b9a bz2_bzwrite_open, bz2_bz_write, bz2_bz_write_close64, config_e"}], "start_byte": 2510, "end_byte": 3038, "start_point": [66, 0], "end_point": [84, 1], "text": "      BZ_CONFIG_ERROR => {\n            config_error();\n            Err(\"Configuration error\".to_string())\n        },\n        BZ_MEM_ERROR => {\n            out_of_memory(\"input_name\", \"output_name\", \"program_name\", None);\n            Err(\"Out of memory\".to_string())\n        },\n        BZ_IO_ERROR => {\n            io_error();\n            Err(\"IO error\".to_string())\n        },\n        _ => {\n            panic!(\"compress:unexpected error\");\n        }\n    }\n}\n\n// \u5047\u5b9a bz2_bzwrite_open, bz2_bz_write, bz2_bz_write_close64, config_e"}, {"type": "line_comment", "children": [], "start_byte": 3040, "end_byte": 3166, "start_point": [86, 0], "end_point": [86, 126], "text": "or, out_of_memory, io_error \u51fd\u6570\u5df2\u7ecf\u6b63\u786e\u5b9e\u73b0\n"}], "start_byte": 0, "end_byte": 3167, "start_point": [0, 0], "end_point": [87, 0], "text": "use crate::global_vars::bzip2_c1::{BZFILE, blockSize100k, verbosity, workFactor};\nuse crate::bzlib::scc_77_BZ2_bzWrite::*;\nuse crate::bzlib::scc_53_root_35_myfeof::*;\nuse crate::bzip2::scc_107_configError::*;\nuse crate::bzlib::scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen::bz2_bzwrite_open;\nuse crate::bzip2::scc_99_outOfMemory_scc_100_myMalloc::*;\nuse crate::bzlib::scc_75_BZ2_bzCompress_76_BZ2_bzWriteClose64::{bz2_bz_write_close64,};\nuse crate::bzlib::scc_77_BZ2_bzWrite::*;\nuse crate::bzlib::scc_49_BZ2_bzCompressInit_50_BZ2_bzWriteOpen::*;\nuse crate::bzip2::scc_93_crcError_ioError::*;\nuse crate::bzip2::scc_99_outOfMemory_scc_100_myMalloc::*;\n\nuse std::fs::File;\nuse std::io::{self, Read, Write};\nuse std::os::unix::io::AsRawFd;\nuse crate::bzlib::bz_constants::*;\n\npub fn compress_stream(stream: &mut File, z_stream: &mut File) -> Result<(), String> {\n    let mut bzf: Option<BZFILE> = None;\n    let mut ibuf = [0u8; 5000];\n    let mut nbytes_in_lo32 = 0u32;\n    let mut nbytes_in_hi32 = 0u32;\n    let mut nbytes_out_lo32 = 0u32;\n    let mut nbytes_out_hi32 = 0u32;\n    let mut bzerr = 0i32;\n    // println!(\"110_compressStream\");\n    if stream.metadata().is_err() || z_stream.metadata().is_err() {\n        return Err(\"IO error\".to_string());\n    }\n\n    let cloned_z_stream = z_stream.try_clone().map_err(|e| e.to_string())?;\n    let bzf_boxed = unsafe {\n        bz2_bzwrite_open(\n            &mut bzerr, \n            cloned_z_stream, \n            blockSize100k, \n            verbosity, \n            workFactor\n        )\n    }.ok_or_else(|| \"BZ2_bzWriteOpen failed\".to_string())?;\n    bzf = Some(Box::into_raw(bzf_boxed)); // \u5c06 Box \u8f6c\u6362\u4e3a\u539f\u59cb\u6307\u9488\n\n    while !myfeof(stream) {\n        match stream.read(&mut ibuf) {\n            Ok(0) => break,\n            Ok(n) => {\n                let bzf_unwrapped = bzf.as_mut().ok_or(\"BZFile is null\")?;\n                bz2_bz_write(&mut Some(bzerr), *bzf_unwrapped, &ibuf[..n], ibuf[..n].len() as i32);//\u274c\n                // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n            }\n            Err(e) => return Err(e.to_string()),\n        }\n\n        if bzerr != BZ_OK {\n            return handle_err(bzerr);\n        }\n    }\n\n    if let Some(bzfile) = bzf {\n        bz2_bz_write_close64(&mut Some(bzerr), bzfile, 0, &mut Some(nbytes_in_lo32), &mut Some(nbytes_in_hi32),\n                             &mut Some(nbytes_out_lo32), &mut Some(nbytes_out_hi32));\n        // \u79fb\u9664 map_err \u8c03\u7528\uff0c\u5047\u8bbe\u51fd\u6570\u6ca1\u6709\u8fd4\u56de Result\n    }\n    Ok(())\n}\n\nfn handle_err(bzerr: i32) -> Result<(), String> {\n    match bzerr {\n        BZ_CONFIG_ERROR => {\n            config_error();\n            Err(\"Configuration error\".to_string())\n        },\n        BZ_MEM_ERROR => {\n            out_of_memory(\"input_name\", \"output_name\", \"program_name\", None);\n            Err(\"Out of memory\".to_string())\n        },\n        BZ_IO_ERROR => {\n            io_error();\n            Err(\"IO error\".to_string())\n        },\n        _ => {\n            panic!(\"compress:unexpected error\");\n        }\n    }\n}\n\n// \u5047\u5b9a bz2_bzwrite_open, bz2_bz_write, bz2_bz_write_close64, config_error, out_of_memory, io_error \u51fd\u6570\u5df2\u7ecf\u6b63\u786e\u5b9e\u73b0\n"}