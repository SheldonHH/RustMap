{"type": "source_file", "children": [{"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 0, "end_byte": 3, "start_point": [0, 0], "end_point": [0, 3], "text": "use"}, {"type": "scoped_use_list", "children": [{"type": "scoped_identifier", "children": [{"type": "scoped_identifier", "children": [{"type": "crate", "children": [], "start_byte": 4, "end_byte": 9, "start_point": [0, 4], "end_point": [0, 9], "text": "crate"}, {"type": "::", "children": [], "start_byte": 9, "end_byte": 11, "start_point": [0, 9], "end_point": [0, 11], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 11, "end_byte": 22, "start_point": [0, 11], "end_point": [0, 22], "text": "global_vars"}], "start_byte": 4, "end_byte": 22, "start_point": [0, 4], "end_point": [0, 22], "text": "crate::global_vars"}, {"type": "::", "children": [], "start_byte": 22, "end_byte": 24, "start_point": [0, 22], "end_point": [0, 24], "text": "::"}, {"type": "identifier", "children": [], "start_byte": 24, "end_byte": 32, "start_point": [0, 24], "end_point": [0, 32], "text": "bzip2_c5"}], "start_byte": 4, "end_byte": 32, "start_point": [0, 4], "end_point": [0, 32], "text": "crate::global_vars::bzip2_c5"}, {"type": "::", "children": [], "start_byte": 32, "end_byte": 34, "start_point": [0, 32], "end_point": [0, 34], "text": "::"}, {"type": "use_list", "children": [{"type": "{", "children": [], "start_byte": 34, "end_byte": 35, "start_point": [0, 34], "end_point": [0, 35], "text": "{"}, {"type": "identifier", "children": [], "start_byte": 35, "end_byte": 44, "start_point": [0, 35], "end_point": [0, 44], "text": "exitValue"}, {"type": "}", "children": [], "start_byte": 44, "end_byte": 45, "start_point": [0, 44], "end_point": [0, 45], "text": "}"}], "start_byte": 34, "end_byte": 45, "start_point": [0, 34], "end_point": [0, 45], "text": "{exitValue}"}], "start_byte": 4, "end_byte": 45, "start_point": [0, 4], "end_point": [0, 45], "text": "crate::global_vars::bzip2_c5::{exitValue}"}, {"type": ";", "children": [], "start_byte": 45, "end_byte": 46, "start_point": [0, 45], "end_point": [0, 46], "text": ";"}], "start_byte": 0, "end_byte": 46, "start_point": [0, 0], "end_point": [0, 46], "text": "use crate::global_vars::bzip2_c5::{exitValue};"}, {"type": "line_comment", "children": [], "start_byte": 47, "end_byte": 90, "start_point": [1, 0], "end_point": [1, 43], "text": "// \u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53ef\u53d8\u53d8\u91cf exitValue\n// \u5728 Rust \u4e2d\uff0c\u5168\u5c40\u53d8\u91cf\u5fc5\u987b\u4f7f"}, {"type": "line_comment", "children": [], "start_byte": 91, "end_byte": 187, "start_point": [2, 0], "end_point": [2, 96], "text": "\u9759\u6001\u5173\u952e\u5b57\uff0c\u5e76\u4e14\u5fc5\u987b\u6709\u4e00\u4e2a\u751f\u547d\u5468\u671f\u3002\n// \u4e3a\u4e86\u4fee\u6539\u8fd9\u6837\u7684\u53d8\u91cf\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4f7f\u7528 unsafe \u4ee3\u7801\u5757\u3002\n// \u4e0d\u8fc7\u5168\u5c40\u53d8\u91cf\u5e76\u4e0d\u662f Rust \u4e2d\u7684\u6700\u4f73\u5b9e\u8df5\u3002\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u6700\u597d\u907f\u514d\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u3002\n"}, {"type": "line_comment", "children": [], "start_byte": 188, "end_byte": 262, "start_point": [3, 0], "end_point": [3, 74], "text": "\n// \u5b9a\u4e49\u51fd\u6570 setExit\npub fn set_exit(v: i32) {  // \u660e\u786e\u6ce8\u91ca\u6570\u5b57\u7c7b\u578b\n    // \u4f7f\u7528 unsafe \u4ee3"}, {"type": "line_comment", "children": [], "start_byte": 263, "end_byte": 374, "start_point": [4, 0], "end_point": [4, 111], "text": "\u5757\u6765\u8bbf\u95ee\u548c\u4fee\u6539\u5168\u5c40\u53d8\u91cf\n    unsafe {\n        if v > exitValue {\n            exitValue = v;\n        }\n    }\n}\n\n#[cfg(test)]\n"}, {"type": "line_comment", "children": [], "start_byte": 377, "end_byte": 400, "start_point": [7, 0], "end_point": [7, 23], "text": " tests {\n    use super:"}, {"type": "function_item", "children": [{"type": "visibility_modifier", "children": [{"type": "pub", "children": [], "start_byte": 401, "end_byte": 404, "start_point": [8, 0], "end_point": [8, 3], "text": "*;\n"}], "start_byte": 401, "end_byte": 404, "start_point": [8, 0], "end_point": [8, 3], "text": "*;\n"}, {"type": "fn", "children": [], "start_byte": 405, "end_byte": 407, "start_point": [8, 4], "end_point": [8, 6], "text": "  "}, {"type": "identifier", "children": [], "start_byte": 408, "end_byte": 416, "start_point": [8, 7], "end_point": [8, 15], "text": " #[test]"}, {"type": "parameters", "children": [{"type": "(", "children": [], "start_byte": 416, "end_byte": 417, "start_point": [8, 15], "end_point": [8, 16], "text": "\n"}, {"type": "parameter", "children": [{"type": "identifier", "children": [], "start_byte": 417, "end_byte": 418, "start_point": [8, 16], "end_point": [8, 17], "text": " "}, {"type": ":", "children": [], "start_byte": 418, "end_byte": 419, "start_point": [8, 17], "end_point": [8, 18], "text": " "}, {"type": "primitive_type", "children": [], "start_byte": 420, "end_byte": 423, "start_point": [8, 19], "end_point": [8, 22], "text": " fn"}], "start_byte": 417, "end_byte": 423, "start_point": [8, 16], "end_point": [8, 22], "text": "    fn"}, {"type": ")", "children": [], "start_byte": 423, "end_byte": 424, "start_point": [8, 22], "end_point": [8, 23], "text": " "}], "start_byte": 416, "end_byte": 424, "start_point": [8, 15], "end_point": [8, 23], "text": "\n    fn "}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 425, "end_byte": 426, "start_point": [8, 24], "end_point": [8, 25], "text": "e"}, {"type": "line_comment", "children": [], "start_byte": 428, "end_byte": 455, "start_point": [8, 27], "end_point": [8, 54], "text": "_set_exit_no_update() {\n   "}, {"type": "line_comment", "children": [], "start_byte": 460, "end_byte": 516, "start_point": [9, 4], "end_point": [9, 60], "text": "// \u4f7f\u7528 unsafe \u4ee3\u7801\u5757\u6765\u4fee\u6539\u5168\u5c40\u53d8\u91cf\n        unsafe {\n            exi"}, {"type": "expression_statement", "children": [{"type": "unsafe_block", "children": [{"type": "unsafe", "children": [], "start_byte": 521, "end_byte": 527, "start_point": [10, 4], "end_point": [10, 10], "text": "e = 10"}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 528, "end_byte": 529, "start_point": [10, 11], "end_point": [10, 12], "text": " "}, {"type": "expression_statement", "children": [{"type": "if_expression", "children": [{"type": "if", "children": [], "start_byte": 538, "end_byte": 540, "start_point": [11, 8], "end_point": [11, 10], "text": "\n "}, {"type": "binary_expression", "children": [{"type": "identifier", "children": [], "start_byte": 541, "end_byte": 542, "start_point": [11, 11], "end_point": [11, 12], "text": " "}, {"type": ">", "children": [], "start_byte": 543, "end_byte": 544, "start_point": [11, 13], "end_point": [11, 14], "text": " "}, {"type": "identifier", "children": [], "start_byte": 545, "end_byte": 554, "start_point": [11, 15], "end_point": [11, 24], "text": "  }\n     "}], "start_byte": 541, "end_byte": 554, "start_point": [11, 11], "end_point": [11, 24], "text": "      }\n     "}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 555, "end_byte": 556, "start_point": [11, 25], "end_point": [11, 26], "text": " "}, {"type": "expression_statement", "children": [{"type": "assignment_expression", "children": [{"type": "identifier", "children": [], "start_byte": 569, "end_byte": 578, "start_point": [12, 12], "end_point": [12, 21], "text": "       //"}, {"type": "=", "children": [], "start_byte": 579, "end_byte": 580, "start_point": [12, 22], "end_point": [12, 23], "text": "\u5c1d"}, {"type": "identifier", "children": [], "start_byte": 581, "end_byte": 582, "start_point": [12, 24], "end_point": [12, 25], "text": "\u66f4"}], "start_byte": 569, "end_byte": 582, "start_point": [12, 12], "end_point": [12, 25], "text": "       // \u5c1d\u8bd5\u66f4"}, {"type": ";", "children": [], "start_byte": 582, "end_byte": 583, "start_point": [12, 25], "end_point": [12, 26], "text": "\u65b0"}], "start_byte": 569, "end_byte": 583, "start_point": [12, 12], "end_point": [12, 26], "text": "       // \u5c1d\u8bd5\u66f4\u65b0"}, {"type": "}", "children": [], "start_byte": 592, "end_byte": 593, "start_point": [13, 8], "end_point": [13, 9], "text": " "}], "start_byte": 555, "end_byte": 593, "start_point": [11, 25], "end_point": [13, 9], "text": "  set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        "}], "start_byte": 538, "end_byte": 593, "start_point": [11, 8], "end_point": [13, 9], "text": "\n        }\n        set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        "}], "start_byte": 538, "end_byte": 593, "start_point": [11, 8], "end_point": [13, 9], "text": "\n        }\n        set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        "}, {"type": "}", "children": [], "start_byte": 598, "end_byte": 599, "start_point": [14, 4], "end_point": [14, 5], "text": " "}], "start_byte": 528, "end_byte": 599, "start_point": [10, 11], "end_point": [14, 5], "text": "  // \u8bbe\u7f6e\u521d\u59cb\u503c\n        }\n        set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        // \u4f7f\u7528 "}], "start_byte": 521, "end_byte": 599, "start_point": [10, 4], "end_point": [14, 5], "text": "e = 10;  // \u8bbe\u7f6e\u521d\u59cb\u503c\n        }\n        set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        // \u4f7f\u7528 "}], "start_byte": 521, "end_byte": 599, "start_point": [10, 4], "end_point": [14, 5], "text": "e = 10;  // \u8bbe\u7f6e\u521d\u59cb\u503c\n        }\n        set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        // \u4f7f\u7528 "}, {"type": "}", "children": [], "start_byte": 600, "end_byte": 601, "start_point": [15, 0], "end_point": [15, 1], "text": "s"}], "start_byte": 425, "end_byte": 601, "start_point": [8, 24], "end_point": [15, 1], "text": "est_set_exit_no_update() {\n        // \u4f7f\u7528 unsafe \u4ee3\u7801\u5757\u6765\u4fee\u6539\u5168\u5c40\u53d8\u91cf\n        unsafe {\n            exitValue = 10;  // \u8bbe\u7f6e\u521d\u59cb\u503c\n        }\n        set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        // \u4f7f\u7528 as"}], "start_byte": 401, "end_byte": 601, "start_point": [8, 0], "end_point": [15, 1], "text": "*;\n\n    #[test]\n    fn test_set_exit_no_update() {\n        // \u4f7f\u7528 unsafe \u4ee3\u7801\u5757\u6765\u4fee\u6539\u5168\u5c40\u53d8\u91cf\n        unsafe {\n            exitValue = 10;  // \u8bbe\u7f6e\u521d\u59cb\u503c\n        }\n        set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        // \u4f7f\u7528 as"}, {"type": "attribute_item", "children": [{"type": "#", "children": [], "start_byte": 603, "end_byte": 604, "start_point": [17, 0], "end_point": [17, 1], "text": "r"}, {"type": "[", "children": [], "start_byte": 604, "end_byte": 605, "start_point": [17, 1], "end_point": [17, 2], "text": "t"}, {"type": "attribute", "children": [{"type": "identifier", "children": [], "start_byte": 605, "end_byte": 608, "start_point": [17, 2], "end_point": [17, 5], "text": "_eq"}, {"type": "token_tree", "children": [{"type": "(", "children": [], "start_byte": 608, "end_byte": 609, "start_point": [17, 5], "end_point": [17, 6], "text": "!"}, {"type": "identifier", "children": [], "start_byte": 609, "end_byte": 613, "start_point": [17, 6], "end_point": [17, 10], "text": " \u5b8f\u6765\u68c0"}, {"type": ")", "children": [], "start_byte": 613, "end_byte": 614, "start_point": [17, 10], "end_point": [17, 11], "text": "\u67e5"}], "start_byte": 608, "end_byte": 614, "start_point": [17, 5], "end_point": [17, 11], "text": "! \u5b8f\u6765\u68c0\u67e5"}], "start_byte": 605, "end_byte": 614, "start_point": [17, 2], "end_point": [17, 11], "text": "_eq! \u5b8f\u6765\u68c0\u67e5"}, {"type": "]", "children": [], "start_byte": 614, "end_byte": 615, "start_point": [17, 11], "end_point": [17, 12], "text": "\u503c"}], "start_byte": 603, "end_byte": 615, "start_point": [17, 0], "end_point": [17, 12], "text": "rt_eq! \u5b8f\u6765\u68c0\u67e5\u503c"}, {"type": "mod_item", "children": [{"type": "mod", "children": [], "start_byte": 616, "end_byte": 619, "start_point": [18, 0], "end_point": [18, 3], "text": "\u7136\u662f1"}, {"type": "identifier", "children": [], "start_byte": 620, "end_byte": 625, "start_point": [18, 4], "end_point": [18, 9], "text": "\n    "}, {"type": "declaration_list", "children": [{"type": "{", "children": [], "start_byte": 626, "end_byte": 627, "start_point": [18, 10], "end_point": [18, 11], "text": " "}, {"type": "use_declaration", "children": [{"type": "use", "children": [], "start_byte": 632, "end_byte": 635, "start_point": [19, 4], "end_point": [19, 7], "text": "afe"}, {"type": "use_wildcard", "children": [{"type": "super", "children": [], "start_byte": 636, "end_byte": 641, "start_point": [19, 8], "end_point": [19, 13], "text": "{\n   "}, {"type": "::", "children": [], "start_byte": 641, "end_byte": 643, "start_point": [19, 13], "end_point": [19, 15], "text": "  "}, {"type": "*", "children": [], "start_byte": 643, "end_byte": 644, "start_point": [19, 15], "end_point": [19, 16], "text": " "}], "start_byte": 636, "end_byte": 644, "start_point": [19, 8], "end_point": [19, 16], "text": "{\n      "}, {"type": ";", "children": [], "start_byte": 644, "end_byte": 645, "start_point": [19, 16], "end_point": [19, 17], "text": " "}], "start_byte": 632, "end_byte": 645, "start_point": [19, 4], "end_point": [19, 17], "text": "afe {\n       "}, {"type": "attribute_item", "children": [{"type": "#", "children": [], "start_byte": 651, "end_byte": 652, "start_point": [21, 4], "end_point": [21, 5], "text": "s"}, {"type": "[", "children": [], "start_byte": 652, "end_byte": 653, "start_point": [21, 5], "end_point": [21, 6], "text": "s"}, {"type": "attribute", "children": [{"type": "identifier", "children": [], "start_byte": 653, "end_byte": 657, "start_point": [21, 6], "end_point": [21, 10], "text": "ert_"}], "start_byte": 653, "end_byte": 657, "start_point": [21, 6], "end_point": [21, 10], "text": "ert_"}, {"type": "]", "children": [], "start_byte": 657, "end_byte": 658, "start_point": [21, 10], "end_point": [21, 11], "text": "e"}], "start_byte": 651, "end_byte": 658, "start_point": [21, 4], "end_point": [21, 11], "text": "ssert_e"}, {"type": "function_item", "children": [{"type": "fn", "children": [], "start_byte": 663, "end_byte": 665, "start_point": [22, 4], "end_point": [22, 6], "text": "it"}, {"type": "identifier", "children": [], "start_byte": 666, "end_byte": 689, "start_point": [22, 7], "end_point": [22, 30], "text": "alue, 10);\n        }\n  "}, {"type": "parameters", "children": [{"type": "(", "children": [], "start_byte": 689, "end_byte": 690, "start_point": [22, 30], "end_point": [22, 31], "text": " "}, {"type": ")", "children": [], "start_byte": 690, "end_byte": 691, "start_point": [22, 31], "end_point": [22, 32], "text": " "}], "start_byte": 689, "end_byte": 691, "start_point": [22, 30], "end_point": [22, 32], "text": "  "}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 692, "end_byte": 693, "start_point": [22, 33], "end_point": [22, 34], "text": "\n"}, {"type": "line_comment", "children": [], "start_byte": 702, "end_byte": 749, "start_point": [23, 8], "end_point": [23, 55], "text": ""}, {"type": "expression_statement", "children": [{"type": "unsafe_block", "children": [{"type": "unsafe", "children": [], "start_byte": 758, "end_byte": 764, "start_point": [24, 8], "end_point": [24, 14], "text": ""}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 765, "end_byte": 766, "start_point": [24, 15], "end_point": [24, 16], "text": ""}, {"type": "expression_statement", "children": [{"type": "assignment_expression", "children": [{"type": "identifier", "children": [], "start_byte": 779, "end_byte": 788, "start_point": [25, 12], "end_point": [25, 21], "text": ""}, {"type": "=", "children": [], "start_byte": 789, "end_byte": 790, "start_point": [25, 22], "end_point": [25, 23], "text": ""}, {"type": "integer_literal", "children": [], "start_byte": 791, "end_byte": 793, "start_point": [25, 24], "end_point": [25, 26], "text": ""}], "start_byte": 779, "end_byte": 793, "start_point": [25, 12], "end_point": [25, 26], "text": ""}, {"type": ";", "children": [], "start_byte": 793, "end_byte": 794, "start_point": [25, 26], "end_point": [25, 27], "text": ""}], "start_byte": 779, "end_byte": 794, "start_point": [25, 12], "end_point": [25, 27], "text": ""}, {"type": "line_comment", "children": [], "start_byte": 796, "end_byte": 814, "start_point": [25, 29], "end_point": [25, 47], "text": ""}, {"type": "}", "children": [], "start_byte": 823, "end_byte": 824, "start_point": [26, 8], "end_point": [26, 9], "text": ""}], "start_byte": 765, "end_byte": 824, "start_point": [24, 15], "end_point": [26, 9], "text": ""}], "start_byte": 758, "end_byte": 824, "start_point": [24, 8], "end_point": [26, 9], "text": ""}], "start_byte": 758, "end_byte": 824, "start_point": [24, 8], "end_point": [26, 9], "text": ""}, {"type": "expression_statement", "children": [{"type": "call_expression", "children": [{"type": "identifier", "children": [], "start_byte": 833, "end_byte": 841, "start_point": [27, 8], "end_point": [27, 16], "text": ""}, {"type": "arguments", "children": [{"type": "(", "children": [], "start_byte": 841, "end_byte": 842, "start_point": [27, 16], "end_point": [27, 17], "text": ""}, {"type": "integer_literal", "children": [], "start_byte": 842, "end_byte": 843, "start_point": [27, 17], "end_point": [27, 18], "text": ""}, {"type": ")", "children": [], "start_byte": 843, "end_byte": 844, "start_point": [27, 18], "end_point": [27, 19], "text": ""}], "start_byte": 841, "end_byte": 844, "start_point": [27, 16], "end_point": [27, 19], "text": ""}], "start_byte": 833, "end_byte": 844, "start_point": [27, 8], "end_point": [27, 19], "text": ""}, {"type": ";", "children": [], "start_byte": 844, "end_byte": 845, "start_point": [27, 19], "end_point": [27, 20], "text": ""}], "start_byte": 833, "end_byte": 845, "start_point": [27, 8], "end_point": [27, 20], "text": ""}, {"type": "line_comment", "children": [], "start_byte": 852, "end_byte": 867, "start_point": [27, 27], "end_point": [27, 42], "text": ""}, {"type": "line_comment", "children": [], "start_byte": 877, "end_byte": 924, "start_point": [29, 8], "end_point": [29, 55], "text": ""}, {"type": "expression_statement", "children": [{"type": "unsafe_block", "children": [{"type": "unsafe", "children": [], "start_byte": 933, "end_byte": 939, "start_point": [30, 8], "end_point": [30, 14], "text": ""}, {"type": "block", "children": [{"type": "{", "children": [], "start_byte": 940, "end_byte": 941, "start_point": [30, 15], "end_point": [30, 16], "text": ""}, {"type": "expression_statement", "children": [{"type": "macro_invocation", "children": [{"type": "identifier", "children": [], "start_byte": 954, "end_byte": 963, "start_point": [31, 12], "end_point": [31, 21], "text": ""}, {"type": "!", "children": [], "start_byte": 963, "end_byte": 964, "start_point": [31, 21], "end_point": [31, 22], "text": ""}, {"type": "token_tree", "children": [{"type": "(", "children": [], "start_byte": 964, "end_byte": 965, "start_point": [31, 22], "end_point": [31, 23], "text": ""}, {"type": "identifier", "children": [], "start_byte": 965, "end_byte": 974, "start_point": [31, 23], "end_point": [31, 32], "text": ""}, {"type": "integer_literal", "children": [], "start_byte": 976, "end_byte": 978, "start_point": [31, 34], "end_point": [31, 36], "text": ""}, {"type": ")", "children": [], "start_byte": 978, "end_byte": 979, "start_point": [31, 36], "end_point": [31, 37], "text": ""}], "start_byte": 964, "end_byte": 979, "start_point": [31, 22], "end_point": [31, 37], "text": ""}], "start_byte": 954, "end_byte": 979, "start_point": [31, 12], "end_point": [31, 37], "text": ""}, {"type": ";", "children": [], "start_byte": 979, "end_byte": 980, "start_point": [31, 37], "end_point": [31, 38], "text": ""}], "start_byte": 954, "end_byte": 980, "start_point": [31, 12], "end_point": [31, 38], "text": ""}, {"type": "}", "children": [], "start_byte": 989, "end_byte": 990, "start_point": [32, 8], "end_point": [32, 9], "text": ""}], "start_byte": 940, "end_byte": 990, "start_point": [30, 15], "end_point": [32, 9], "text": ""}], "start_byte": 933, "end_byte": 990, "start_point": [30, 8], "end_point": [32, 9], "text": ""}], "start_byte": 933, "end_byte": 990, "start_point": [30, 8], "end_point": [32, 9], "text": ""}, {"type": "}", "children": [], "start_byte": 995, "end_byte": 996, "start_point": [33, 4], "end_point": [33, 5], "text": ""}], "start_byte": 692, "end_byte": 996, "start_point": [22, 33], "end_point": [33, 5], "text": "\n}\n"}], "start_byte": 663, "end_byte": 996, "start_point": [22, 4], "end_point": [33, 5], "text": "itValue, 10);\n        }\n    }\n}\n"}, {"type": "}", "children": [], "start_byte": 997, "end_byte": 998, "start_point": [34, 0], "end_point": [34, 1], "text": ""}], "start_byte": 626, "end_byte": 998, "start_point": [18, 10], "end_point": [34, 1], "text": "   unsafe {\n            assert_eq!(exitValue, 10);\n        }\n    }\n}\n"}], "start_byte": 616, "end_byte": 998, "start_point": [18, 0], "end_point": [34, 1], "text": "\u7136\u662f10\n        unsafe {\n            assert_eq!(exitValue, 10);\n        }\n    }\n}\n"}], "start_byte": 0, "end_byte": 999, "start_point": [0, 0], "end_point": [35, 0], "text": "use crate::global_vars::bzip2_c5::{exitValue};\n// \u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53ef\u53d8\u53d8\u91cf exitValue\n// \u5728 Rust \u4e2d\uff0c\u5168\u5c40\u53d8\u91cf\u5fc5\u987b\u4f7f\u7528\u9759\u6001\u5173\u952e\u5b57\uff0c\u5e76\u4e14\u5fc5\u987b\u6709\u4e00\u4e2a\u751f\u547d\u5468\u671f\u3002\n// \u4e3a\u4e86\u4fee\u6539\u8fd9\u6837\u7684\u53d8\u91cf\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4f7f\u7528 unsafe \u4ee3\u7801\u5757\u3002\n// \u4e0d\u8fc7\u5168\u5c40\u53d8\u91cf\u5e76\u4e0d\u662f Rust \u4e2d\u7684\u6700\u4f73\u5b9e\u8df5\u3002\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u6700\u597d\u907f\u514d\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u3002\n\n\n// \u5b9a\u4e49\u51fd\u6570 setExit\npub fn set_exit(v: i32) {  // \u660e\u786e\u6ce8\u91ca\u6570\u5b57\u7c7b\u578b\n    // \u4f7f\u7528 unsafe \u4ee3\u7801\u5757\u6765\u8bbf\u95ee\u548c\u4fee\u6539\u5168\u5c40\u53d8\u91cf\n    unsafe {\n        if v > exitValue {\n            exitValue = v;\n        }\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use super::*;\n\n    #[test]\n    fn test_set_exit_no_update() {\n        // \u4f7f\u7528 unsafe \u4ee3\u7801\u5757\u6765\u4fee\u6539\u5168\u5c40\u53d8\u91cf\n        unsafe {\n            exitValue = 10;  // \u8bbe\u7f6e\u521d\u59cb\u503c\n        }\n        set_exit(5);       // \u5c1d\u8bd5\u66f4\u65b0\n\n        // \u4f7f\u7528 assert_eq! \u5b8f\u6765\u68c0\u67e5\u503c\u4ecd\u7136\u662f10\n        unsafe {\n            assert_eq!(exitValue, 10);\n        }\n    }\n}\n"}